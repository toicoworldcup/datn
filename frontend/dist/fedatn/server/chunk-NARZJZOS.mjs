import './polyfills.server.mjs';
import{a as te,b as ie,c as Be}from"./chunk-C3JGK4P6.mjs";import{a as ee}from"./chunk-AUYIQJXV.mjs";import{a as We}from"./chunk-JHQUUCZS.mjs";import{a as B,b as I,c as L,d as Ne,e as fe,f as ne,g as A,h as be}from"./chunk-BYELIU3I.mjs";import{$ as E,$a as q,B as c,D as M,E as v,Ea as K,F as he,Fa as O,Ga as k,Ha as ze,I as u,Ja as S,O as m,Q as t,R as e,S as x,T as Ce,Ta as Le,U as _e,V as y,Va as De,W as d,X as p,Xa as Ie,Y as G,Z as o,_ as g,_a as Fe,aa as Pe,ab as Ae,bb as N,ca as h,cb as w,da as C,db as Q,ea as _,eb as X,fa as P,fb as z,g as ye,gb as Y,h as ue,ha as F,ia as we,ib as J,j as ke,ja as V,jb as Z,ka as U,kb as $,lb as Ve,mb as T,p as f,q as b}from"./chunk-IVLOQY4X.mjs";import{a as ge,b as Te}from"./chunk-X2SEQXRR.mjs";var Qe=a=>({"show d-block":a}),Xe=a=>({itemsPerPage:10,currentPage:a});function Ye(a,i){if(a&1){let n=y();t(0,"div",30)(1,"div",4)(2,"div",31)(3,"div",32)(4,"label",33),o(5,"Import / Export"),e(),t(6,"input",34),d("change",function(l){f(n);let s=p();return b(s.onFileSelected(l))}),e(),t(7,"div",35)(8,"button",36),d("click",function(){f(n);let l=p();return b(l.importStudents())}),o(9,"Import"),e(),t(10,"button",37),d("click",function(){f(n);let l=p();return b(l.exportStudents())}),o(11,"Export"),e()()()()()()}}function Je(a,i){if(a&1&&(t(0,"tr")(1,"td"),o(2),e(),t(3,"td"),o(4),e(),t(5,"td"),o(6),e(),t(7,"td"),o(8),e(),t(9,"td"),o(10),e(),t(11,"td"),o(12),e(),t(13,"td"),o(14),e(),t(15,"td"),o(16),e(),t(17,"td"),o(18),e(),t(19,"td"),o(20),e(),t(21,"td"),o(22),e()()),a&2){let n=i.$implicit;c(2),g(n.mssv),c(2),g(n.name),c(2),g(n.dateOfBirth),c(2),g(n.gender),c(2),g(n.email),c(2),g(n.phone),c(2),g(n.cccd),c(2),g(n.departmentName),c(2),g(n.batchName),c(2),g(n.address),c(2),g(n.tenCth)}}function Ze(a,i){if(a&1){let n=y();t(0,"div",38)(1,"div",39)(2,"table",40)(3,"thead",41)(4,"tr")(5,"th",42),o(6,"MSSV"),e(),t(7,"th",42),o(8,"T\xEAn"),e(),t(9,"th",42),o(10,"Ng\xE0y sinh"),e(),t(11,"th",42),o(12,"Gi\u1EDBi t\xEDnh"),e(),t(13,"th",42),o(14,"Email"),e(),t(15,"th",42),o(16,"\u0110i\u1EC7n tho\u1EA1i"),e(),t(17,"th",42),o(18,"CCCD"),e(),t(19,"th",42),o(20,"Khoa"),e(),t(21,"th",42),o(22,"Kho\xE1 h\u1ECDc"),e(),t(23,"th",42),o(24,"\u0110\u1ECBa ch\u1EC9"),e(),t(25,"th",42),o(26,"CT\u0110T"),e()()(),t(27,"tbody"),u(28,Je,23,11,"tr",43),F(29,"paginate"),e()()(),t(30,"pagination-controls",44),d("pageChange",function(l){f(n);let s=p();return b(s.p=l)}),e()()}if(a&2){let n=p();c(28),m("ngForOf",V(29,1,n.students,P(4,Xe,n.p)))}}function $e(a,i){a&1&&(t(0,"div",30)(1,"div",45),o(2,' Danh s\xE1ch sinh vi\xEAn \u0111\xE3 \u0111\u01B0\u1EE3c \u1EA9n. Nh\u1EA5n n\xFAt "Hi\u1EC7n danh s\xE1ch" \u0111\u1EC3 xem. '),e()())}var oe=class a{constructor(i){this.studentService=i}isSearchVisible=!1;isFileVisible=!1;isTableVisible=!1;students=[];p=1;mssvSearch="";maCtSearch="";batchSearch="";selectedFile=null;toggleSearch(){this.isSearchVisible=!this.isSearchVisible}toggleFile(){this.isFileVisible=!this.isFileVisible}toggleTableVisibility(){this.isTableVisible=!this.isTableVisible}ngOnInit(){this.getAllStudents()}getAllStudents(){this.studentService.getStudents().subscribe({next:i=>{this.students=i,console.log(i)},error:i=>{console.error("C\xF3 l\u1ED7i khi g\u1ECDi API",i)}})}searchStudent(){this.mssvSearch.trim()&&this.studentService.searchStudent(this.mssvSearch).subscribe({next:i=>{this.students=[i]},error:i=>{alert("Kh\xF4ng t\xECm th\u1EA5y sinh vi\xEAn"),console.error(i)}})}searchByBatch(){!this.batchSearch||this.batchSearch.trim()===""||this.studentService.getStudentsByBatch(this.batchSearch).subscribe({next:i=>{this.students=i},error:i=>{alert("Kh\xF4ng t\xECm th\u1EA5y sinh vi\xEAn theo kho\xE1"),console.error("L\u1ED7i khi t\xECm ki\u1EBFm theo kho\xE1:",i)}})}searchByCtdt(){!this.maCtSearch||this.maCtSearch.trim()===""||this.studentService.getStudentsByCtdt(this.maCtSearch).subscribe({next:i=>{this.students=i},error:i=>{alert("Kh\xF4ng t\xECm th\u1EA5y sinh vi\xEAn theo Ctdt"),console.error("L\u1ED7i khi t\xECm ki\u1EBFm theo ctdt:",i)}})}onFileSelected(i){this.selectedFile=i.target.files[0]}importStudents(){this.selectedFile&&this.studentService.importStudents(this.selectedFile).subscribe({next:i=>{alert("Import th\xE0nh c\xF4ng!"),this.getAllStudents()},error:i=>{alert("L\u1ED7i khi import file"),console.error(i)}})}exportStudents(){this.studentService.exportStudents().subscribe({next:i=>{let n=document.createElement("a");n.href=window.URL.createObjectURL(i),n.download="students.xlsx",n.click()},error:i=>{alert("L\u1ED7i khi export file"),console.error(i)}})}static \u0275fac=function(n){return new(n||a)(M(Ne))};static \u0275cmp=v({type:a,selectors:[["app-student-list"]],decls:51,vars:10,consts:[[1,"container-fluid","mt-4","px-4"],[1,"container-fluid","mt-3","px-3"],[1,"text-center"],[1,"title-heading"],[1,"row"],[1,"col-md-12","d-flex","justify-content-start","mb-3"],[1,"btn","btn-info","me-2",2,"width","150px",3,"click"],[1,"fa","fa-search","me-1"],[1,"btn","btn-secondary","me-2",2,"width","150px",3,"click"],[1,"fa","fa-file","me-1"],[1,"btn","btn-warning",2,"width","150px",3,"click"],["tabindex","-1",1,"modal","fade",2,"background","rgba(0,0,0,0.4)",3,"ngClass"],[1,"modal-dialog","modal-lg","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"close",3,"click"],[1,"modal-body"],[1,"form-group"],["for","mssvInput",1,"form-label","bold-label"],[1,"input-group"],["id","mssvInput","type","text","placeholder","Nh\u1EADp MSSV",1,"form-control",3,"ngModelChange","ngModel"],[1,"btn","btn-primary","btn-sm-search",3,"click"],[1,"fa","fa-search"],["for","batchInput",1,"form-label","bold-label"],["id","batchInput","type","text","placeholder","Nh\u1EADp kh\xF3a h\u1ECDc",1,"form-control",3,"ngModelChange","ngModel"],["for","maCtInput",1,"form-label","bold-label"],["id","maCtInput","type","text","placeholder","Nh\u1EADp m\xE3 CT\u0110T",1,"form-control",3,"ngModelChange","ngModel"],["class","col-md-12 mt-3",4,"ngIf"],["class","col-md-12",4,"ngIf"],[1,"col-md-12","mt-3"],[1,"col-md-3"],[1,"mb-2"],[1,"form-label"],["type","file",1,"form-control","mb-2",3,"change"],[1,"d-flex","justify-content-between"],[1,"btn","btn-success",3,"click"],[1,"btn","btn-warning",3,"click"],[1,"col-md-12"],[2,"overflow-x","auto"],[1,"table","table-bordered","table-striped","table-hover"],[1,"table-info","text-center"],[1,"text-center","align-middle"],[4,"ngFor","ngForOf"],["previousLabel","\xAB","nextLabel","\xBB",1,"d-flex","justify-content-center","mt-3",3,"pageChange"],[1,"alert","alert-info"]],template:function(n,r){n&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),o(4,"Danh s\xE1ch sinh vi\xEAn"),e()()(),t(5,"div",4)(6,"div",5)(7,"button",6),d("click",function(){return r.toggleSearch()}),x(8,"i",7),o(9," T\xECm ki\u1EBFm "),e(),t(10,"button",8),d("click",function(){return r.toggleFile()}),x(11,"i",9),o(12," File "),e(),t(13,"button",10),d("click",function(){return r.toggleTableVisibility()}),o(14),e()(),t(15,"div",11)(16,"div",12)(17,"div",13)(18,"div",14)(19,"h5",15),o(20,"T\xECm ki\u1EBFm Sinh Vi\xEAn"),e(),t(21,"button",16),d("click",function(){return r.toggleSearch()}),o(22,"\xD7"),e()(),t(23,"div",17)(24,"div",18)(25,"label",19),o(26,"T\xECm theo MSSV"),e(),t(27,"div",20)(28,"input",21),_("ngModelChange",function(s){return C(r.mssvSearch,s)||(r.mssvSearch=s),s}),e(),t(29,"button",22),d("click",function(){return r.searchStudent()}),x(30,"i",23),o(31," T\xECm "),e()()(),t(32,"div",18)(33,"label",24),o(34,"T\xECm theo kh\xF3a h\u1ECDc"),e(),t(35,"div",20)(36,"input",25),_("ngModelChange",function(s){return C(r.batchSearch,s)||(r.batchSearch=s),s}),e(),t(37,"button",22),d("click",function(){return r.searchByBatch()}),x(38,"i",23),o(39," T\xECm "),e()()(),t(40,"div",18)(41,"label",26),o(42,"T\xECm theo CT\u0110T"),e(),t(43,"div",20)(44,"input",27),_("ngModelChange",function(s){return C(r.maCtSearch,s)||(r.maCtSearch=s),s}),e(),t(45,"button",22),d("click",function(){return r.searchByCtdt()}),x(46,"i",23),o(47," T\xECm "),e()()()()()()(),u(48,Ye,12,0,"div",28)(49,Ze,31,6,"div",29)(50,$e,3,0,"div",28),e()()),n&2&&(c(14),E(" ",r.isTableVisible?"\u1EA8n danh s\xE1ch":"Hi\u1EC7n danh s\xE1ch"," "),c(),m("ngClass",P(8,Qe,r.isSearchVisible)),c(13),h("ngModel",r.mssvSearch),c(8),h("ngModel",r.batchSearch),c(8),h("ngModel",r.maCtSearch),c(4),m("ngIf",r.isFileVisible),c(),m("ngIf",r.isTableVisible),c(),m("ngIf",!r.isTableVisible))},dependencies:[S,K,O,k,L,B,I,T,N,w,z],styles:[".title-heading[_ngcontent-%COMP%]{font-size:2.2rem}.container-fluid.mt-4.px-4[_ngcontent-%COMP%]{padding-left:15px;padding-right:15px}.container-fluid.mt-3.px-3[_ngcontent-%COMP%]{padding-left:15px;padding-right:15px;margin-bottom:20px}.col-md-12.d-flex.justify-content-start.mb-3[_ngcontent-%COMP%]   button.btn[_ngcontent-%COMP%]{display:flex;align-items:center;margin-right:10px}.col-md-12.d-flex.justify-content-start.mb-3[_ngcontent-%COMP%]   button.btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:5px}.modal.fade.show[_ngcontent-%COMP%]{display:block;background-color:#00000080;z-index:1050}.modal-dialog.modal-lg.modal-dialog-centered[_ngcontent-%COMP%]{max-width:800px;margin:30px auto}.modal-content[_ngcontent-%COMP%]{background-color:#fff;border-radius:.5rem;box-shadow:0 .5rem 1rem #00000026}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem;border-bottom:1px solid #dee2e6}.modal-title[_ngcontent-%COMP%]{margin-bottom:0;font-size:1.25rem;font-weight:500}.modal-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{padding:1rem;margin:-1rem -1rem -1rem auto;font-size:1.5rem;font-weight:700;line-height:1;color:#000;text-shadow:0 1px 0 #fff;opacity:.5;background-color:transparent;border:0;cursor:pointer}.modal-body[_ngcontent-%COMP%]{padding:1rem}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.form-label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:700}.input-group[_ngcontent-%COMP%]{display:flex;align-items:center}.input-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{flex-grow:1;margin-right:.5rem;padding:.375rem .75rem;font-size:1rem;line-height:1.5;border:1px solid #ced4da;border-radius:.25rem}.input-group[_ngcontent-%COMP%]   .btn-sm-search[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:.25rem .5rem;font-size:.875rem;line-height:1.5;border-radius:.2rem;flex-shrink:0}.input-group[_ngcontent-%COMP%]   .btn-sm-search[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.25rem}.col-md-3[_ngcontent-%COMP%]{margin-bottom:1rem}.d-flex.justify-content-between[_ngcontent-%COMP%]   button.btn[_ngcontent-%COMP%]{margin-right:.5rem}.col-md-12[_ngcontent-%COMP%]{margin-top:1rem}.table[_ngcontent-%COMP%]{width:100%;margin-bottom:1rem;color:#212529;border-collapse:collapse}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.75rem;vertical-align:top;border-top:1px solid #dee2e6;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{vertical-align:bottom;border-bottom:2px solid #dee2e6;background-color:#bee5eb;text-align:center}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-of-type(odd){background-color:#0000000d}.table-info[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#bee5eb}.pagination-controls[_ngcontent-%COMP%]{margin-top:1rem;display:flex;justify-content:center}.pagination-controls[_ngcontent-%COMP%]   .ngx-pagination[_ngcontent-%COMP%]{padding-left:0;list-style:none;display:flex;border-radius:.25rem}.pagination-controls[_ngcontent-%COMP%]   .ngx-pagination[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .pagination-controls[_ngcontent-%COMP%]   .ngx-pagination[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:.5rem .75rem;line-height:1.5;border:1px solid #dee2e6;margin-left:-1px;color:#007bff;text-decoration:none;cursor:pointer}.pagination-controls[_ngcontent-%COMP%]   .ngx-pagination[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child   a[_ngcontent-%COMP%], .pagination-controls[_ngcontent-%COMP%]   .ngx-pagination[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child   span[_ngcontent-%COMP%]{border-top-left-radius:.25rem;border-bottom-left-radius:.25rem}.pagination-controls[_ngcontent-%COMP%]   .ngx-pagination[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child   a[_ngcontent-%COMP%], .pagination-controls[_ngcontent-%COMP%]   .ngx-pagination[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child   span[_ngcontent-%COMP%]{border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}.pagination-controls[_ngcontent-%COMP%]   .ngx-pagination[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .pagination-controls[_ngcontent-%COMP%]   .ngx-pagination[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background-color:#007bff;border-color:#007bff;color:#fff;cursor:default}.pagination-controls[_ngcontent-%COMP%]   .ngx-pagination[_ngcontent-%COMP%]   li.disabled[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .pagination-controls[_ngcontent-%COMP%]   .ngx-pagination[_ngcontent-%COMP%]   li.disabled[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#6c757d;pointer-events:none;background-color:#fff;border-color:#dee2e6}.alert.alert-info[_ngcontent-%COMP%]{margin-top:1rem;padding:1rem;background-color:#d1ecf1;border-color:#bee5eb;color:#0c5460;border-radius:.25rem}.btn-info[_ngcontent-%COMP%]{color:#fff;background-color:#17a2b8;border-color:#17a2b8;transition:background-color .15s ease-in-out,border-color .15s ease-in-out}.btn-info[_ngcontent-%COMP%]:hover{background-color:#138496;border-color:#117a8b}"]})};var Ke=a=>({"show d-block":a}),et=a=>({itemsPerPage:10,currentPage:a});function tt(a,i){if(a&1&&(t(0,"div",37),o(1),e()),a&2){let n=p();c(),E(" ",n.importMessage," ")}}function nt(a,i){if(a&1&&(t(0,"div",38),o(1),e()),a&2){let n=p();c(),E(" ",n.importError," ")}}function it(a,i){if(a&1){let n=y();t(0,"tr")(1,"td"),o(2),e(),t(3,"td"),o(4),e(),t(5,"td"),o(6),e(),t(7,"td"),o(8),e(),t(9,"td"),o(10),e(),t(11,"td"),o(12),e(),t(13,"td"),o(14),e(),t(15,"td"),o(16),e(),t(17,"td"),o(18),e(),t(19,"td")(20,"button",39),d("click",function(){let l=f(n).$implicit,s=p();return b(s.deleteTeacher(l.maGv))}),o(21," X\xF3a "),e()()()}if(a&2){let n=i.$implicit;c(2),g(n.maGv),c(2),g(n.name),c(2),g(n.email),c(2),g(n.phone),c(2),g(n.dateOfBirth),c(2),g(n.address),c(2),g(n.departmentName),c(2),g(n.gender),c(2),g(n.cccd)}}function ot(a,i){if(a&1){let n=y();t(0,"div",40)(1,"div",13)(2,"div",14)(3,"div",15)(4,"h5",16),o(5,"Th\xEAm Gi\xE1o Vi\xEAn"),e(),t(6,"button",17),d("click",function(){f(n);let l=p();return b(l.toggleAddTeacherModal())}),o(7," \xD7 "),e()(),t(8,"div",18)(9,"form",41),d("ngSubmit",function(){f(n);let l=p();return b(l.addTeacher())}),t(10,"div",19)(11,"label",42),o(12,"M\xE3 Gi\xE1o Vi\xEAn"),e(),t(13,"input",43),_("ngModelChange",function(l){f(n);let s=p();return C(s.newTeacher.maGv,l)||(s.newTeacher.maGv=l),b(l)}),e()(),t(14,"div",19)(15,"label",44),o(16,"T\xEAn"),e(),t(17,"input",45),_("ngModelChange",function(l){f(n);let s=p();return C(s.newTeacher.name,l)||(s.newTeacher.name=l),b(l)}),e()(),t(18,"div",19)(19,"label",46),o(20,"Email"),e(),t(21,"input",47),_("ngModelChange",function(l){f(n);let s=p();return C(s.newTeacher.email,l)||(s.newTeacher.email=l),b(l)}),e()(),t(22,"div",19)(23,"label",48),o(24,"S\u0110T"),e(),t(25,"input",49),_("ngModelChange",function(l){f(n);let s=p();return C(s.newTeacher.phoneNumber,l)||(s.newTeacher.phoneNumber=l),b(l)}),e()(),t(26,"div",19)(27,"label",50),o(28,"Ng\xE0y sinh"),e(),t(29,"input",51),_("ngModelChange",function(l){f(n);let s=p();return C(s.newTeacher.dateOfBirth,l)||(s.newTeacher.dateOfBirth=l),b(l)}),e()(),t(30,"div",19)(31,"label",52),o(32,"\u0110\u1ECBa ch\u1EC9"),e(),t(33,"input",53),_("ngModelChange",function(l){f(n);let s=p();return C(s.newTeacher.address,l)||(s.newTeacher.address=l),b(l)}),e()(),t(34,"div",19)(35,"label",54),o(36,"Khoa"),e(),t(37,"input",55),_("ngModelChange",function(l){f(n);let s=p();return C(s.newTeacher.departmentName,l)||(s.newTeacher.departmentName=l),b(l)}),e()(),t(38,"div",19)(39,"label",56),o(40,"Gi\u1EDBi t\xEDnh"),e(),t(41,"select",57),_("ngModelChange",function(l){f(n);let s=p();return C(s.newTeacher.gender,l)||(s.newTeacher.gender=l),b(l)}),t(42,"option",58),o(43,"Nam"),e(),t(44,"option",59),o(45,"N\u1EEF"),e()()(),t(46,"div",19)(47,"label",60),o(48,"CCCD"),e(),t(49,"input",61),_("ngModelChange",function(l){f(n);let s=p();return C(s.newTeacher.cccd,l)||(s.newTeacher.cccd=l),b(l)}),e()(),t(50,"div",62)(51,"button",63),o(52," Th\xEAm gi\xE1o vi\xEAn "),e()()()()()()()}if(a&2){let n=p();c(13),h("ngModel",n.newTeacher.maGv),c(4),h("ngModel",n.newTeacher.name),c(4),h("ngModel",n.newTeacher.email),c(4),h("ngModel",n.newTeacher.phoneNumber),c(4),h("ngModel",n.newTeacher.dateOfBirth),c(4),h("ngModel",n.newTeacher.address),c(4),h("ngModel",n.newTeacher.departmentName),c(4),h("ngModel",n.newTeacher.gender),c(8),h("ngModel",n.newTeacher.cccd)}}var H=class a{constructor(i){this.teacherService=i}teachers=[];p=1;maGvSearch="";isAddTeacherModalVisible=!1;isSearchVisible=!1;isFileUploadVisible=!1;selectedFile=null;importMessage="";importError="";newTeacher={maGv:"",name:"",email:"",phoneNumber:"",dateOfBirth:"",address:"",departmentName:"",gender:"",cccd:""};resetNewTeacher(){this.newTeacher={maGv:"",name:"",email:"",phoneNumber:"",dateOfBirth:"",address:"",departmentName:"",gender:"Nam",cccd:""}}ngOnInit(){this.loadTeachers()}toggleAddTeacherModal(){this.isAddTeacherModalVisible=!this.isAddTeacherModalVisible,console.log("Modal visibility:",this.isAddTeacherModalVisible),this.isAddTeacherModalVisible||this.resetNewTeacher()}toggleSearch(){this.isSearchVisible=!this.isSearchVisible}toggleFileUploadModal(){this.isFileUploadVisible=!this.isFileUploadVisible,this.selectedFile=null,this.importMessage="",this.importError=""}onFileSelected(i){this.selectedFile=i.target.files[0]}uploadFile(){this.selectedFile&&this.teacherService.importTeachers(this.selectedFile).subscribe({next:i=>{this.importMessage=i.message,this.importError="",this.loadTeachers()},error:i=>{this.importError=i.error?.message||i.error,this.importMessage="",console.error("L\u1ED7i import gi\xE1o vi\xEAn",i)}})}loadTeachers(){this.teacherService.getAllTeachers().subscribe(i=>{this.teachers=i})}pageChanged(i){this.p=i,this.loadTeachers()}deleteTeacher(i){confirm("B\u1EA1n c\xF3 ch\u1EAFc ch\u1EAFn mu\u1ED1n x\xF3a gi\xE1o vi\xEAn n\xE0y kh\xF4ng?")&&this.teacherService.deleteTeacher(i).subscribe(()=>{this.loadTeachers()})}searchTeacher(){this.maGvSearch.trim()&&this.teacherService.searchTeacher(this.maGvSearch).subscribe({next:i=>{this.teachers=[i],this.isSearchVisible=!1},error:i=>{alert("Kh\xF4ng t\xECm th\u1EA5y gi\xE1o vi\xEAn"),console.error(i)}})}addTeacher(){this.teacherService.addTeacher(this.newTeacher).subscribe({next:i=>{this.teachers.push(i),this.toggleAddTeacherModal(),this.resetNewTeacher(),this.loadTeachers()},error:i=>{console.error("C\xF3 l\u1ED7i khi th\xEAm gi\xE1o vi\xEAn",i)}})}static \u0275fac=function(n){return new(n||a)(M(ee))};static \u0275cmp=v({type:a,selectors:[["app-teacher-list"]],decls:81,vars:17,consts:[[1,"container-fluid","mt-4","px-4","custom-content-container"],[1,"container-fluid","mt-3","px-3"],[1,"text-center"],[1,"title-heading"],[1,"row"],[1,"col-md-12","d-flex","justify-content-start","mb-3"],[1,"btn","btn-info","me-2",2,"width","200px",3,"click"],[1,"fa","fa-user-plus","me-1"],[1,"btn","btn-info","me-2",2,"width","150px",3,"click"],[1,"fa","fa-search","me-1"],[1,"btn","btn-success",2,"width","150px",3,"click"],[1,"fa","fa-upload","me-1"],["tabindex","-1",1,"modal","fade",2,"background","rgba(0, 0, 0, 0.4)",3,"ngClass"],[1,"modal-dialog","modal-lg","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"close",3,"click"],[1,"modal-body"],[1,"form-group"],["for","maGvInput",1,"form-label","bold-label"],[1,"input2-group"],["id","maGvInput","type","text","placeholder","Nh\u1EADp m\xE3 gi\xE1o vi\xEAn",1,"form-control",3,"ngModelChange","ngModel"],[1,"btn","btn-primary","btn-sm-search",3,"click"],[1,"fa","fa-search"],[1,"modal-dialog","modal-dialog-centered"],["for","fileUpload"],["type","file","id","fileUpload",1,"form-control",3,"change"],["class","alert alert-success mt-3",4,"ngIf"],["class","alert alert-danger mt-3",4,"ngIf"],[1,"text-center","mt-3"],[1,"btn","btn-primary",3,"click","disabled"],[1,"table","table-bordered","table-striped","table-hover"],[1,"table-info","text-center"],[4,"ngFor","ngForOf"],["previousLabel","\xAB","nextLabel","\xBB",1,"d-flex","justify-content-center","mt-3",3,"pageChange"],["class","modal show d-block","tabindex","-1","style","background: rgba(0, 0, 0, 0.4)",4,"ngIf"],[1,"alert","alert-success","mt-3"],[1,"alert","alert-danger","mt-3"],[1,"btn","btn-danger","btn-sm",3,"click"],["tabindex","-1",1,"modal","show","d-block",2,"background","rgba(0, 0, 0, 0.4)"],[3,"ngSubmit"],["for","maGv"],["id","maGv","name","maGv","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","name"],["id","name","name","name","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","email"],["id","email","name","email","required","","type","email",1,"form-control",3,"ngModelChange","ngModel"],["for","phoneNumber"],["id","phoneNumber","name","phoneNumber","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","dateOfBirth"],["id","dateOfBirth","name","dateOfBirth","required","","type","date",1,"form-control",3,"ngModelChange","ngModel"],["for","address"],["id","address","name","address","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","departmentName"],["id","departmentName","name","departmentName","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","gender"],["id","gender","name","gender","required","",1,"form-control",3,"ngModelChange","ngModel"],["value","Nam"],["value","N\u1EEF"],["for","cccd"],["id","cccd","name","cccd","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-group","text-center","mt-3"],["type","submit",1,"btn","btn-success"]],template:function(n,r){n&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),o(4,"Danh s\xE1ch Gi\xE1o vi\xEAn"),e()()(),t(5,"div",4)(6,"div",5)(7,"button",6),d("click",function(){return r.toggleAddTeacherModal()}),x(8,"i",7),o(9," Th\xEAm gi\xE1o vi\xEAn"),e(),t(10,"button",8),d("click",function(){return r.toggleSearch()}),x(11,"i",9),o(12," T\xECm ki\u1EBFm "),e(),t(13,"button",10),d("click",function(){return r.toggleFileUploadModal()}),x(14,"i",11),o(15," Import "),e()(),t(16,"div",12)(17,"div",13)(18,"div",14)(19,"div",15)(20,"h5",16),o(21,"T\xECm ki\u1EBFm Gi\xE1o Vi\xEAn"),e(),t(22,"button",17),d("click",function(){return r.toggleSearch()}),o(23," \xD7 "),e()(),t(24,"div",18)(25,"div",19)(26,"label",20),o(27,"T\xECm theo M\xE3 gi\xE1o vi\xEAn"),e(),t(28,"div",21)(29,"input",22),_("ngModelChange",function(s){return C(r.maGvSearch,s)||(r.maGvSearch=s),s}),e(),t(30,"button",23),d("click",function(){return r.searchTeacher()}),x(31,"i",24),o(32," T\xECm "),e()()()()()()(),t(33,"div",12)(34,"div",25)(35,"div",14)(36,"div",15)(37,"h5",16),o(38,"Import Danh S\xE1ch Gi\xE1o Vi\xEAn"),e(),t(39,"button",17),d("click",function(){return r.toggleFileUploadModal()}),o(40," \xD7 "),e()(),t(41,"div",18)(42,"div",19)(43,"label",26),o(44,"Ch\u1ECDn file Excel"),e(),t(45,"input",27),d("change",function(s){return r.onFileSelected(s)}),e()(),u(46,tt,2,1,"div",28)(47,nt,2,1,"div",29),t(48,"div",30)(49,"button",31),d("click",function(){return r.uploadFile()}),x(50,"i",11),o(51," T\u1EA3i l\xEAn "),e()()()()()()(),t(52,"div",4)(53,"table",32)(54,"thead",33)(55,"tr")(56,"th"),o(57,"M\xE3 GV"),e(),t(58,"th"),o(59,"T\xEAn"),e(),t(60,"th"),o(61,"Email"),e(),t(62,"th"),o(63,"S\u0110T"),e(),t(64,"th"),o(65,"Ng\xE0y sinh"),e(),t(66,"th"),o(67,"\u0110\u1ECBa ch\u1EC9"),e(),t(68,"th"),o(69,"Khoa"),e(),t(70,"th"),o(71,"Gi\u1EDBi t\xEDnh"),e(),t(72,"th"),o(73,"CCCD"),e(),t(74,"th"),o(75,"H\xE0nh \u0111\u1ED9ng"),e()()(),t(76,"tbody"),u(77,it,22,9,"tr",34),F(78,"paginate"),e()()(),t(79,"pagination-controls",35),d("pageChange",function(s){return r.p=s}),e()(),u(80,ot,53,9,"div",36)),n&2&&(c(16),m("ngClass",P(11,Ke,r.isSearchVisible)),c(13),h("ngModel",r.maGvSearch),c(4),m("ngClass",P(13,Ke,r.isFileUploadVisible)),c(13),m("ngIf",r.importMessage),c(),m("ngIf",r.importError),c(2),m("disabled",!r.selectedFile),c(28),m("ngForOf",V(78,8,r.teachers,P(15,et,r.p))),c(3),m("ngIf",r.isAddTeacherModalVisible))},dependencies:[S,K,O,k,L,B,I,T,Y,Z,$,N,J,w,Q,Ve,z,X],styles:[".table[_ngcontent-%COMP%]{table-layout:auto;width:100%;border-collapse:collapse;margin-top:30px}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px;text-align:left;border:1px solid #ddd;white-space:nowrap}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.title-heading[_ngcontent-%COMP%]{font-size:2.5rem;background:linear-gradient(135deg,#a8d0e6,#b0e0e6);color:#2c3e50;font-weight:700;text-transform:uppercase;border-radius:15px;padding:15px 25px;display:inline-block;box-shadow:0 4px 10px #0000001a;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;letter-spacing:1px;text-align:center;transition:transform .3s ease}.title-heading[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.modal.show[_ngcontent-%COMP%]{display:block;background-color:#00000080;z-index:1050}.modal-dialog[_ngcontent-%COMP%]{width:70%;max-width:1000px;margin:auto;max-height:110vh}.modal-content[_ngcontent-%COMP%]{background-color:#fff;padding:25px;border-radius:10px;box-shadow:0 4px 15px #0000001a}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:15px;position:relative}.modal-title[_ngcontent-%COMP%]{margin:0;font-size:1.25rem;font-weight:700}.modal-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{position:absolute;top:8px;right:10px;font-size:1.5rem;color:#000;background:transparent;border:none;cursor:pointer;padding:0;z-index:10}.modal-body[_ngcontent-%COMP%]{padding:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-label[_ngcontent-%COMP%]{font-weight:700;display:block;margin-bottom:5px}.form-control[_ngcontent-%COMP%]{width:100%;padding:.375rem .75rem;font-size:1rem;line-height:1.5;color:#495057;background-color:#fff;background-clip:padding-box;border:1px solid #ced4da;border-radius:.25rem;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}.input2-group[_ngcontent-%COMP%]{display:flex;align-items:center}.input2-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{flex-grow:1;margin-right:5px}.btn-sm-search[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:.25rem .5rem;font-size:.875rem;line-height:1.5;border-radius:.2rem;flex-shrink:0}.btn-sm-search[_ngcontent-%COMP%]   i.fa[_ngcontent-%COMP%]{margin-right:5px}.col-md-12.d-flex.justify-content-start.mb-3[_ngcontent-%COMP%]   button.btn[_ngcontent-%COMP%]{display:flex;align-items:center}.col-md-12.d-flex.justify-content-start.mb-3[_ngcontent-%COMP%]   button.btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:5px}.btn-danger.btn-sm[_ngcontent-%COMP%]{padding:.25rem .5rem;font-size:.875rem;line-height:1.5;border-radius:.2rem}.pagination-controls[_ngcontent-%COMP%]{margin-top:20px;display:flex;justify-content:center}.pagination-controls[_ngcontent-%COMP%]   .ngx-pagination[_ngcontent-%COMP%]{padding-left:0;list-style:none;display:flex;border-radius:.25rem}.pagination-controls[_ngcontent-%COMP%]   .ngx-pagination[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .pagination-controls[_ngcontent-%COMP%]   .ngx-pagination[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:.5rem .75rem;line-height:1.5;border:1px solid #dee2e6;margin-left:-1px;color:#007bff;text-decoration:none;cursor:pointer}.pagination-controls[_ngcontent-%COMP%]   .ngx-pagination[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child   a[_ngcontent-%COMP%], .pagination-controls[_ngcontent-%COMP%]   .ngx-pagination[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child   span[_ngcontent-%COMP%]{border-top-left-radius:.25rem;border-bottom-left-radius:.25rem}.pagination-controls[_ngcontent-%COMP%]   .ngx-pagination[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child   a[_ngcontent-%COMP%], .pagination-controls[_ngcontent-%COMP%]   .ngx-pagination[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child   span[_ngcontent-%COMP%]{border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}.pagination-controls[_ngcontent-%COMP%]   .ngx-pagination[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .pagination-controls[_ngcontent-%COMP%]   .ngx-pagination[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background-color:#007bff;border-color:#007bff;color:#fff;cursor:default}.pagination-controls[_ngcontent-%COMP%]   .ngx-pagination[_ngcontent-%COMP%]   li.disabled[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .pagination-controls[_ngcontent-%COMP%]   .ngx-pagination[_ngcontent-%COMP%]   li.disabled[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#6c757d;pointer-events:none;background-color:#fff;border-color:#dee2e6}.btn-info[_ngcontent-%COMP%]{color:#fff;background-color:#17a2b8;border-color:#17a2b8;transition:background-color .15s ease-in-out,border-color .15s ease-in-out}.btn-info[_ngcontent-%COMP%]:hover{background-color:#138496;border-color:#117a8b}"]})};var at=a=>({itemsPerPage:10,currentPage:a}),Oe=a=>({"show d-block":a});function lt(a,i){if(a&1&&(t(0,"tr")(1,"td"),o(2),e(),t(3,"td"),o(4),e(),t(5,"td"),o(6),e()()),a&2){let n=i.$implicit;c(2),g(n.maHocPhan),c(2),g(n.tenMonHoc),c(2),g(n.soTinChi)}}function ct(a,i){if(a&1&&(t(0,"div",39),o(1),e()),a&2){let n=p();c(),g(n.searchError)}}function st(a,i){if(a&1&&(t(0,"div",40)(1,"h5"),o(2,"K\u1EBFt qu\u1EA3 t\xECm ki\u1EBFm:"),e(),t(3,"p")(4,"strong"),o(5,"M\xE3 h\u1ECDc ph\u1EA7n:"),e(),o(6),e(),t(7,"p")(8,"strong"),o(9,"T\xEAn m\xF4n h\u1ECDc:"),e(),o(10),e(),t(11,"p")(12,"strong"),o(13,"S\u1ED1 t\xEDn ch\u1EC9:"),e(),o(14),e()()),a&2){let n=p();c(6),E(" ",n.searchResultCourse.maHocPhan,""),c(4),E(" ",n.searchResultCourse.tenMonHoc,""),c(4),E(" ",n.searchResultCourse.soTinChi,"")}}var re=class a{constructor(i){this.courseService=i}courses=[];searchTerm="";p=1;mahocphanSearch="";isSearchVisible=!1;isSearchModalVisible=!1;searchResultCourse=null;searchError="";isAdvancedSearchModalVisible=!1;searchProgram="";searchKhoa="";searchAdvancedError="";isCombinedSearchModalVisible=!1;ngOnInit(){this.loadCourses()}openCombinedSearchModal(){this.isCombinedSearchModalVisible=!0}closeCombinedSearchModal(){this.isCombinedSearchModalVisible=!1}toggleAdvancedSearchModal(){this.isAdvancedSearchModalVisible=!this.isAdvancedSearchModalVisible,this.searchProgram="",this.searchKhoa="",this.searchAdvancedError="",this.isCombinedSearchModalVisible=!1}searchCoursesByProgramAndKhoa(){this.searchAdvancedError="",this.courseService.searchCoursesByCtdtAndKhoa(this.searchProgram,this.searchKhoa).subscribe({next:i=>{this.courses=i,this.isAdvancedSearchModalVisible=!1,this.p=1,this.searchResultCourse=null,this.isSearchModalVisible=!1},error:i=>{this.searchAdvancedError="\u0110\xE3 x\u1EA3y ra l\u1ED7i khi t\xECm ki\u1EBFm.",console.error("L\u1ED7i t\xECm ki\u1EBFm n\xE2ng cao:",i),this.courses=[],this.searchResultCourse=null,this.isSearchModalVisible=!1}})}toggleSearch(){this.isSearchVisible=!this.isSearchVisible,this.isSearchModalVisible=!1,this.searchResultCourse=null,this.searchError="",this.isSearchVisible||this.loadCourses()}openSearchModal(){this.isSearchModalVisible=!0,this.isSearchVisible=!1,this.mahocphanSearch="",this.searchResultCourse=null,this.searchError="",this.isCombinedSearchModalVisible=!1}closeSearchModal(){this.isSearchModalVisible=!1,this.loadCourses()}loadCourses(){this.courseService.getAllCourses().subscribe({next:i=>{this.courses=i,console.log(i)},error:i=>{console.error("C\xF3 l\u1ED7i khi g\u1ECDi API",i)}})}searchCourse(){if(!this.mahocphanSearch.trim()){this.courses=[...this.courses],this.searchError="Vui l\xF2ng nh\u1EADp m\xE3 h\u1ECDc ph\u1EA7n.";return}this.searchError="",this.courseService.searchCourse(this.mahocphanSearch).subscribe({next:i=>{i?(this.courses=[i],this.p=1,this.isSearchModalVisible=!1):(this.courses=[],this.searchError="Kh\xF4ng t\xECm th\u1EA5y h\u1ECDc ph\u1EA7n c\xF3 m\xE3: "+this.mahocphanSearch),this.searchResultCourse=null},error:i=>{this.courses=[],this.searchError="\u0110\xE3 x\u1EA3y ra l\u1ED7i khi t\xECm ki\u1EBFm.",console.error(i),this.searchResultCourse=null}})}static \u0275fac=function(n){return new(n||a)(M(fe))};static \u0275cmp=v({type:a,selectors:[["app-course-list"]],decls:82,vars:20,consts:[[1,"container-fluid","mt-4","px-4"],[1,"container-fluid","mt-3","px-3"],[1,"text-center"],[1,"title-heading"],[1,"row","mb-3"],[1,"col-md-auto"],[1,"btn","btn-info","me-2",3,"click"],[1,"fa","fa-search","me-1"],[1,"row"],[1,"table","table-bordered","table-striped","table-hover"],[1,"table-info","text-center"],[4,"ngFor","ngForOf"],["previousLabel","\xAB","nextLabel","\xBB",1,"d-flex","justify-content-center","mt-3",3,"pageChange"],["tabindex","-1",1,"modal","fade",2,"background","rgba(0,0,0,0.4)",3,"ngClass"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],[1,"d-grid","gap-2"],[1,"btn","btn-info",3,"click"],[1,"btn","btn-success",3,"click"],[1,"fa","fa-filter","me-1"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"mb-3"],["for","maHocPhanInputModal"],[1,"input-group"],["type","text","id","maHocPhanInputModal",1,"form-control",3,"ngModelChange","ngModel"],[1,"btn","btn-primary",3,"click"],[1,"fa","fa-search"],["class","text-danger mt-2",4,"ngIf"],["class","mt-3",4,"ngIf"],[1,"modal-dialog","modal-lg","modal-dialog-centered"],["for","program"],["type","text","id","program",1,"form-control",3,"ngModelChange","ngModel"],["for","khoa"],["type","text","id","khoa",1,"form-control",3,"ngModelChange","ngModel"],[1,"text-danger","mt-2"],[1,"mt-3"]],template:function(n,r){n&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),o(4," Danh s\xE1ch Hoc phan "),e()()(),t(5,"div",4)(6,"div",5)(7,"button",6),d("click",function(){return r.openCombinedSearchModal()}),x(8,"i",7),o(9," T\xECm ki\u1EBFm "),e()()(),t(10,"div",8)(11,"table",9)(12,"thead",10)(13,"tr")(14,"th"),o(15,"M\xE3 h\u1ECDc ph\u1EA7n"),e(),t(16,"th"),o(17,"T\xEAn m\xF4n h\u1ECDc"),e(),t(18,"th"),o(19,"S\u1ED1 t\xEDn ch\u1EC9"),e()()(),t(20,"tbody"),u(21,lt,7,3,"tr",11),F(22,"paginate"),e()(),t(23,"pagination-controls",12),d("pageChange",function(s){return r.p=s}),e()(),t(24,"div",13)(25,"div",14)(26,"div",15)(27,"div",16)(28,"h5",17),o(29,"T\xECm ki\u1EBFm h\u1ECDc ph\u1EA7n"),e(),t(30,"button",18),d("click",function(){return r.closeCombinedSearchModal()}),e()(),t(31,"div",19)(32,"div",20)(33,"button",21),d("click",function(){return r.openSearchModal()}),x(34,"i",7),o(35," T\xECm ki\u1EBFm theo M\xE3 "),e(),t(36,"button",22),d("click",function(){return r.toggleAdvancedSearchModal()}),x(37,"i",23),o(38," T\xECm ki\u1EBFm n\xE2ng cao "),e()()(),t(39,"div",24)(40,"button",25),d("click",function(){return r.closeCombinedSearchModal()}),o(41,"\u0110\xF3ng"),e()()()()(),t(42,"div",13)(43,"div",14)(44,"div",15)(45,"div",16)(46,"h5",17),o(47,"T\xECm ki\u1EBFm h\u1ECDc ph\u1EA7n theo m\xE3"),e(),t(48,"button",18),d("click",function(){return r.closeSearchModal()}),e()(),t(49,"div",19)(50,"div",26)(51,"label",27),o(52,"Nh\u1EADp m\xE3 h\u1ECDc ph\u1EA7n:"),e(),t(53,"div",28)(54,"input",29),_("ngModelChange",function(s){return C(r.mahocphanSearch,s)||(r.mahocphanSearch=s),s}),e(),t(55,"button",30),d("click",function(){return r.searchCourse()}),x(56,"i",31),o(57," T\xECm "),e()(),u(58,ct,2,1,"div",32),e(),u(59,st,15,3,"div",33),e()()()(),t(60,"div",13)(61,"div",34)(62,"div",15)(63,"div",16)(64,"h5",17),o(65,"T\xECm ki\u1EBFm h\u1ECDc ph\u1EA7n n\xE2ng cao"),e(),t(66,"button",18),d("click",function(){return r.toggleAdvancedSearchModal()}),e()(),t(67,"div",19)(68,"div",26)(69,"label",35),o(70,"Ch\u01B0\u01A1ng tr\xECnh \u0111\xE0o t\u1EA1o:"),e(),t(71,"input",36),_("ngModelChange",function(s){return C(r.searchProgram,s)||(r.searchProgram=s),s}),e()(),t(72,"div",26)(73,"label",37),o(74,"Kh\xF3a:"),e(),t(75,"input",38),_("ngModelChange",function(s){return C(r.searchKhoa,s)||(r.searchKhoa=s),s}),e()(),t(76,"div",2)(77,"button",30),d("click",function(){return r.searchCoursesByProgramAndKhoa()}),o(78,"T\xECm ki\u1EBFm"),e()()(),t(79,"div",24)(80,"button",25),d("click",function(){return r.toggleAdvancedSearchModal()}),o(81,"\u0110\xF3ng"),e()()()()()()),n&2&&(c(21),m("ngForOf",V(22,9,r.courses,P(12,at,r.p))),c(3),m("ngClass",P(14,Oe,r.isCombinedSearchModalVisible)),c(18),m("ngClass",P(16,Oe,r.isSearchModalVisible)),c(12),h("ngModel",r.mahocphanSearch),c(4),m("ngIf",r.searchError),c(),m("ngIf",r.searchResultCourse),c(),m("ngClass",P(18,Oe,r.isAdvancedSearchModalVisible)),c(11),h("ngModel",r.searchProgram),c(4),h("ngModel",r.searchKhoa))},dependencies:[S,K,O,k,L,B,I,T,N,w,z],styles:[".table[_ngcontent-%COMP%]{table-layout:auto;width:100%;border-collapse:collapse;margin-top:30px}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px;text-align:left;border:1px solid #ddd;white-space:nowrap}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.title-heading[_ngcontent-%COMP%]{font-size:2.5rem;background:linear-gradient(135deg,#a8d0e6,#b0e0e6);color:#2c3e50;font-weight:700;text-transform:uppercase;border-radius:15px;padding:15px 25px;display:inline-block;box-shadow:0 4px 10px #0000001a;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;letter-spacing:1px;text-align:center;transition:transform .3s ease}.title-heading[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{word-wrap:break-word;white-space:nowrap}.custom-content-container[_ngcontent-%COMP%]{background-color:#ededea;padding:25px;border-radius:10px;box-shadow:0 0 10px #0000000d}.container[_ngcontent-%COMP%]{padding:20px}.row[_ngcontent-%COMP%]{margin-top:20px}.table[_ngcontent-%COMP%]{margin-top:30px}.container[_ngcontent-%COMP%], .table[_ngcontent-%COMP%], .input-group[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]{border-radius:8px}.search-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:15px;margin-top:20px}.search-container[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{width:auto}.search-container[_ngcontent-%COMP%]   .mb-2[_ngcontent-%COMP%]{margin-bottom:0}.search-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700}.search-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:5px}.modal-body[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{display:flex;align-items:center}.modal-body[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{flex-grow:1;margin-right:5px}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.modal[_ngcontent-%COMP%]:is(.show)   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]:has(+.modal-body .input-group)   .btn-secondary[_ngcontent-%COMP%]{display:none}.btn-info[_ngcontent-%COMP%]{color:#fff;background-color:#17a2b8;border-color:#17a2b8;transition:background-color .15s ease-in-out,border-color .15s ease-in-out}.btn-info[_ngcontent-%COMP%]:hover{background-color:#138496;border-color:#117a8b}"]})};var dt=a=>({itemsPerPage:18,currentPage:a});function mt(a,i){if(a&1&&(t(0,"tr")(1,"td"),o(2),e(),t(3,"td"),o(4),e(),t(5,"td"),o(6),F(7,"date"),e(),t(8,"td"),o(9),e(),t(10,"td"),o(11),e(),t(12,"td"),o(13),e(),x(14,"td"),e()),a&2){let n=i.$implicit,r=p();c(2),g(n.maLop),c(2),g(n.hocki),c(2),g(we(7,6,n.lichThi)),c(3),g(n.maHocPhan),c(2),g(r.getTeacherName(n.teachers)),c(2),g(n.soLuongSinhVien)}}var ae=class a{constructor(i,n){this.clazzService=i;this.teacherService=n}clazzes=[];teachers=[];p=1;isAddClazzModalVisible=!1;newClazz={maLop:"",maHocPhan:"",hocki:""};isSearchClazzModalVisible=!1;searchMaHocPhan="";searchHocki="";searchClazzResults=null;searchClazzError="";ngOnInit(){this.loadClazzes(),this.loadTeachers()}loadClazzes(){this.clazzService.getAllClazzes().subscribe(i=>{this.clazzes=i},i=>{console.error("L\u1ED7i khi t\u1EA3i danh s\xE1ch l\u1EDBp h\u1ECDc:",i)})}loadTeachers(){this.teacherService.getAllTeachers().subscribe(i=>{this.teachers=i},i=>{console.error("L\u1ED7i khi t\u1EA3i danh s\xE1ch gi\xE1o vi\xEAn:",i)})}toggleAddClazzModal(){this.isAddClazzModalVisible=!this.isAddClazzModalVisible,this.newClazz={maLop:"",maHocPhan:"",hocki:""}}addClazz(){this.clazzService.addClazz(this.newClazz).subscribe(i=>{console.log("Th\xEAm l\u1EDBp th\xE0nh c\xF4ng:",i),this.loadClazzes(),this.toggleAddClazzModal()},i=>{console.error("L\u1ED7i khi th\xEAm l\u1EDBp:",i)})}openSearchClazzModal(){this.isSearchClazzModalVisible=!0,this.searchMaHocPhan="",this.searchHocki="",this.searchClazzResults=null,this.searchClazzError=""}closeSearchClazzModal(){this.isSearchClazzModalVisible=!1,this.searchClazzResults=null,this.searchClazzError="",this.loadClazzes()}searchClazzes(){if(!this.searchMaHocPhan.trim()||!this.searchHocki.trim()){this.searchClazzError="Vui l\xF2ng nh\u1EADp M\xE3 H\u1ECDc Ph\u1EA7n v\xE0 H\u1ECDc K\u1EF3.",this.searchClazzResults=null,this.clazzes=[...this.clazzes];return}this.searchClazzError="",this.clazzService.searchClazzes(this.searchMaHocPhan,this.searchHocki).subscribe(i=>{this.clazzes=i,this.p=1,this.isSearchClazzModalVisible=!1,this.searchClazzResults=null,i&&i.length===0&&(this.searchClazzError="Kh\xF4ng t\xECm th\u1EA5y l\u1EDBp h\u1ECDc n\xE0o ph\xF9 h\u1EE3p v\u1EDBi th\xF4ng tin \u0111\xE3 nh\u1EADp.")},i=>{console.error("L\u1ED7i khi t\xECm ki\u1EBFm l\u1EDBp h\u1ECDc:",i),this.searchClazzError="\u0110\xE3 x\u1EA3y ra l\u1ED7i khi t\xECm ki\u1EBFm l\u1EDBp h\u1ECDc.",this.searchClazzResults=null,this.clazzes=[]})}getTeacherName(i){return!i||i.length===0?"Ch\u01B0a c\xF3":i.map(r=>r.name).join(", ")}static \u0275fac=function(n){return new(n||a)(M(te),M(ee))};static \u0275cmp=v({type:a,selectors:[["app-clazz-list"]],decls:22,vars:6,consts:[[1,"col-md-12"],[1,"table","table-bordered","table-striped","table-hover"],[1,"table-info","text-align"],[4,"ngFor","ngForOf"],[3,"pageChange"]],template:function(n,r){n&1&&(t(0,"div",0)(1,"table",1)(2,"thead",2)(3,"tr")(4,"th"),o(5,"M\xE3 l\u1EDBp"),e(),t(6,"th"),o(7,"H\u1ECDc k\u1EF3"),e(),t(8,"th"),o(9,"L\u1ECBch thi"),e(),t(10,"th"),o(11,"H\u1ECDc ph\u1EA7n"),e(),t(12,"th"),o(13,"Gi\xE1o vi\xEAn"),e(),t(14,"th"),o(15,"S\u1ED1 l\u01B0\u1EE3ng SV"),e(),t(16,"th"),o(17,"H\xE0nh \u0111\u1ED9ng"),e()()(),t(18,"tbody"),u(19,mt,15,8,"tr",3),F(20,"paginate"),e()(),t(21,"pagination-controls",4),d("pageChange",function(s){return r.p=s}),e()()),n&2&&(c(19),m("ngForOf",V(20,1,r.clazzes,P(4,dt,r.p))))},dependencies:[S,O,ze,L,B,I,T],styles:[".custom-content-container[_ngcontent-%COMP%]{padding:20px;background-color:#f8f9fa;border-radius:5px}.title-heading[_ngcontent-%COMP%]{color:#007bff;margin-bottom:20px;font-weight:700}.modal[_ngcontent-%COMP%]{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;overflow-x:hidden;overflow-y:auto;z-index:1050}.modal.show[_ngcontent-%COMP%]{display:block}.modal-dialog[_ngcontent-%COMP%]{position:relative;width:auto;margin:30px auto;max-width:800px}.modal-content[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;width:100%;pointer-events:auto;background-color:#fff;background-clip:padding-box;border:1px solid rgba(0,0,0,.2);border-radius:.3rem;outline:0}.modal-header[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:space-between;padding:1rem;border-bottom:1px solid #dee2e6;border-top-left-radius:.3rem;border-top-right-radius:.3rem}.modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{margin-bottom:0;line-height:1.5;font-weight:700}.modal-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{padding:.5rem 1rem;margin-top:-.25rem;opacity:.7;transition:opacity .15s ease-in-out}.modal-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]:hover{opacity:1}.modal-body[_ngcontent-%COMP%]{position:relative;padding:1rem}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:inline-block;margin-bottom:.5rem;font-weight:700}.form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{display:block;width:100%;padding:.375rem .75rem;font-size:1rem;line-height:1.5;color:#495057;background-color:#fff;background-clip:padding-box;border:1px solid #ced4da;border-radius:.25rem;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}.form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{border-color:#80bdff;outline:0;box-shadow:0 0 0 .2rem #007bff40}.text-center[_ngcontent-%COMP%]{text-align:left}.mt-3[_ngcontent-%COMP%]{margin-top:1rem}.me-2[_ngcontent-%COMP%]{margin-right:.5rem}.fa[_ngcontent-%COMP%]{margin-right:.3rem}.table[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:1rem}.table-info[_ngcontent-%COMP%]{background-color:#bee5eb;color:#212529}.table-bordered[_ngcontent-%COMP%]{border:1px solid #dee2e6}.table-striped[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-of-type(odd){background-color:#0000000d}.table-hover[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#00000013}pagination-controls[_ngcontent-%COMP%]{display:block;text-align:center;margin-top:1rem}pagination-controls[_ngcontent-%COMP%]   .ngx-pagination[_ngcontent-%COMP%]{padding-left:0;margin:0;list-style:none;display:inline-flex;border-radius:.25rem}pagination-controls[_ngcontent-%COMP%]   .ngx-pagination[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 .2rem}pagination-controls[_ngcontent-%COMP%]   .ngx-pagination[_ngcontent-%COMP%]   li.disabled[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], pagination-controls[_ngcontent-%COMP%]   .ngx-pagination[_ngcontent-%COMP%]   li.disabled[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#6c757d;pointer-events:none;cursor:default;background-color:#fff;border-color:#dee2e6}pagination-controls[_ngcontent-%COMP%]   .ngx-pagination[_ngcontent-%COMP%]   li.current[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], pagination-controls[_ngcontent-%COMP%]   .ngx-pagination[_ngcontent-%COMP%]   li.current[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border-color:#007bff}pagination-controls[_ngcontent-%COMP%]   .ngx-pagination[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], pagination-controls[_ngcontent-%COMP%]   .ngx-pagination[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;display:block;padding:.5rem .75rem;line-height:1.5;color:#007bff;background-color:#fff;border:1px solid #dee2e6;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;cursor:pointer}[_ngcontent-%COMP%]:is(pagination-controls .ngx-pagination li a,pagination-controls .ngx-pagination li span):hover{background-color:#e9ecef}pagination-controls[_ngcontent-%COMP%]   .ngx-pagination[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child   a[_ngcontent-%COMP%], pagination-controls[_ngcontent-%COMP%]   .ngx-pagination[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child   span[_ngcontent-%COMP%]{border-top-left-radius:.25rem;border-bottom-left-radius:.25rem}pagination-controls[_ngcontent-%COMP%]   .ngx-pagination[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child   a[_ngcontent-%COMP%], pagination-controls[_ngcontent-%COMP%]   .ngx-pagination[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child   span[_ngcontent-%COMP%]{border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}.btn-info[_ngcontent-%COMP%]{color:#fff;background-color:#17a2b8;border-color:#17a2b8;transition:background-color .15s ease-in-out,border-color .15s ease-in-out}.btn-info[_ngcontent-%COMP%]:hover{background-color:#138496;border-color:#117a8b}"]})};function pt(a,i){if(a&1){let n=y();t(0,"div",14)(1,"div",15)(2,"input",16),_("ngModelChange",function(l){f(n);let s=p();return C(s.newSemester.name,l)||(s.newSemester.name=l),b(l)}),e(),t(3,"button",17),d("click",function(){f(n);let l=p();return b(l.addSemester())}),x(4,"i",18),o(5," Th\xEAm "),e()()()}if(a&2){let n=p();c(2),h("ngModel",n.newSemester.name)}}function gt(a,i){if(a&1&&(t(0,"td",3),o(1),e()),a&2){let n=p().$implicit;c(),E(" ",n.name," ")}}function ut(a,i){if(a&1){let n=y();Ce(0),t(1,"button",21),d("click",function(){f(n);let l=p(2);return b(l.updateSemester())}),o(2,"L\u01B0u"),e(),t(3,"button",22),d("click",function(){f(n);let l=p(2);return b(l.cancelEdit())}),o(4,"H\u1EE7y"),e(),_e()}}function ht(a,i){if(a&1){let n=y();t(0,"button",23),d("click",function(){f(n);let l=p().$implicit,s=p();return b(s.openRegistration(l.name))}),x(1,"i",24),o(2," M\u1EDF "),e(),t(3,"button",25),d("click",function(){f(n);let l=p().$implicit,s=p();return b(s.closeRegistration(l.name))}),x(4,"i",26),o(5," \u0110\xF3ng "),e()}}function Ct(a,i){if(a&1&&(t(0,"tr"),u(1,gt,2,1,"td",19),t(2,"td",3),o(3),e(),t(4,"td",3),u(5,ut,5,0,"ng-container",20)(6,ht,6,0,"ng-template",null,0,U),e()()),a&2){let n=i.$implicit,r=G(7),l=p();c(),m("ngIf",(l.editingSemester==null?null:l.editingSemester.name)!==n.name),c(2),E(" ",n.isOpen?"\u0110ang m\u1EDF \u0111\u0103ng k\xFD":"\u0110\xE3 \u0111\xF3ng \u0111\u0103ng k\xFD"," "),c(2),m("ngIf",(l.editingSemester==null?null:l.editingSemester.name)===n.name)("ngIfElse",r)}}var le=class a{constructor(i){this.semesterService=i}semesters=[];newSemester={name:"",isOpen:!1};editingSemester=null;isSearchVisible=!1;p=1;ngOnInit(){this.loadSemesters()}loadSemesters(){this.semesterService.getAllSemestersNoFilter().subscribe({next:i=>{this.semesters=i},error:i=>console.error("L\u1ED7i khi t\u1EA3i h\u1ECDc k\u1EF3:",i)})}toggleSearch(){this.isSearchVisible=!this.isSearchVisible}addSemester(){if(!this.newSemester.name.trim()){alert("Vui l\xF2ng nh\u1EADp t\xEAn h\u1ECDc k\u1EF3.");return}this.semesterService.createSemester(this.newSemester).subscribe({next:i=>{this.semesters.push(i),this.newSemester={name:"",isOpen:!1}},error:i=>console.error("L\u1ED7i khi th\xEAm h\u1ECDc k\u1EF3:",i)})}startEdit(i){this.editingSemester=ge({},i)}updateSemester(){this.editingSemester&&this.semesterService.updateSemester(this.editingSemester.name,this.editingSemester).subscribe({next:i=>{let n=this.semesters.findIndex(r=>r.name===i.name);n>-1&&(this.semesters[n]=i),this.editingSemester=null},error:i=>console.error("L\u1ED7i khi c\u1EADp nh\u1EADt h\u1ECDc k\u1EF3:",i)})}cancelEdit(){this.editingSemester=null}openRegistration(i){this.semesterService.openRegistration(i).subscribe({next:n=>this.loadSemesters(),error:n=>console.error("L\u1ED7i khi m\u1EDF \u0111\u0103ng k\xFD:",n)})}closeRegistration(i){this.semesterService.closeRegistration(i).subscribe({next:n=>this.loadSemesters(),error:n=>console.error("L\u1ED7i khi \u0111\xF3ng \u0111\u0103ng k\xFD:",n)})}static \u0275fac=function(n){return new(n||a)(M(ne))};static \u0275cmp=v({type:a,selectors:[["app-semester-list"]],decls:23,vars:2,consts:[["normalButtons",""],[1,"container-fluid","mt-4","px-4","custom-content-container"],[1,"container-fluid","mt-3","px-3"],[1,"text-center"],[1,"title-heading"],[1,"row"],[1,"col-md-3"],[1,"btn","btn-info","me-2",2,"width","150px",3,"click"],[1,"fa","fa-plus","me-1"],["class","mt-2",4,"ngIf"],[1,"table","table-bordered","table-striped","table-hover"],[1,"table-info","text-center"],[1,"text-center","align-middle"],[4,"ngFor","ngForOf"],[1,"mt-2"],[1,"input-group"],["id","maHocPhanInput","type","text","placeholder","Nh\u1EADp m\xE3 h\u1ECDc k\u1EF3",1,"form-control",3,"ngModelChange","ngModel"],[1,"btn","btn-primary",3,"click"],[1,"fa","fa-plus"],["class","text-center",4,"ngIf"],[4,"ngIf","ngIfElse"],[1,"btn","btn-success","me-2",2,"width","100px",3,"click"],[1,"btn","btn-danger",2,"width","100px",3,"click"],["title","M\u1EDF k\u1EF3 h\u1ECDc","data-bs-toggle","tooltip","data-bs-placement","top",1,"btn","btn-success","me-2",2,"width","100px",3,"click"],[1,"fa","fa-check","me-1"],["title","\u0110\xF3ng k\u1EF3 h\u1ECDc","data-bs-toggle","tooltip","data-bs-placement","top",1,"btn","btn-danger",2,"width","100px",3,"click"],[1,"fa","fa-times","me-1"]],template:function(n,r){n&1&&(t(0,"div",1)(1,"div",2)(2,"div",3)(3,"h2",4),o(4,"Danh s\xE1ch h\u1ECDc k\xEC"),e()()(),t(5,"div",5)(6,"div",6)(7,"button",7),d("click",function(){return r.toggleSearch()}),x(8,"i",8),o(9," Th\xEAm k\xEC h\u1ECDc "),e(),u(10,pt,6,1,"div",9),e()(),t(11,"div",5)(12,"table",10)(13,"thead",11)(14,"tr")(15,"th",12),o(16,"T\xEAn h\u1ECDc k\u1EF3"),e(),t(17,"th",12),o(18,"Tr\u1EA1ng th\xE1i"),e(),t(19,"th",12),o(20,"H\xE0nh \u0111\u1ED9ng"),e()()(),t(21,"tbody"),u(22,Ct,8,4,"tr",13),e()()()()),n&2&&(c(10),m("ngIf",r.isSearchVisible),c(12),m("ngForOf",r.semesters))},dependencies:[S,O,k,T,N,w,z],styles:[".table[_ngcontent-%COMP%]{table-layout:auto;width:100%;border-collapse:collapse;margin-top:30px}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px;text-align:left;border:1px solid #ddd;white-space:nowrap}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.title-heading[_ngcontent-%COMP%]{font-size:2.5rem;background:linear-gradient(135deg,#a8d0e6,#b0e0e6);color:#2c3e50;font-weight:700;text-transform:uppercase;border-radius:15px;padding:15px 25px;display:inline-block;box-shadow:0 4px 10px #0000001a;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;letter-spacing:1px;text-align:center;transition:transform .3s ease}.title-heading[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{word-wrap:break-word;white-space:nowrap}.custom-content-container[_ngcontent-%COMP%]{background-color:#ededea;padding:25px;border-radius:10px;box-shadow:0 0 10px #0000000d}.container[_ngcontent-%COMP%]{padding:20px}.row[_ngcontent-%COMP%]{margin-top:20px}.table[_ngcontent-%COMP%]{margin-top:30px}.container[_ngcontent-%COMP%], .table[_ngcontent-%COMP%], .input-group[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]{border-radius:8px}.search-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:15px;margin-top:20px}.search-container[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{width:auto}.search-container[_ngcontent-%COMP%]   .mb-2[_ngcontent-%COMP%]{margin-bottom:0}.search-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700}.search-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:5px}button[_ngcontent-%COMP%]:hover{opacity:.8;transition:all .3s ease}.btn-info[_ngcontent-%COMP%]{color:#fff;background-color:#17a2b8;border-color:#17a2b8;transition:background-color .15s ease-in-out,border-color .15s ease-in-out}.btn-info[_ngcontent-%COMP%]:hover{background-color:#138496;border-color:#117a8b}"]})};var xe=class a{constructor(i){this.http=i}baseUrl="http://localhost:8080/clazzes";assignTeacherClazz(i,n,r){return this.http.post(`${this.baseUrl}/malop/${i}/semester/${n}/assign-teacher/teacher/${r}`,null,{responseType:"text"})}getAvailableTeachersForClazz(i,n){return this.http.get(`${this.baseUrl}/malop/${i}/semester/${n}/available-teachers`)}getAllAssignments(){return this.http.get(`${this.baseUrl}`)}deleteAssignment(i,n,r){return this.http.delete(`${this.baseUrl}?maGv=${i}&maLop=${n}&hocKi=${r}`)}static \u0275fac=function(n){return new(n||a)(ke(Le))};static \u0275prov=ye({token:a,factory:a.\u0275fac,providedIn:"root"})};function ft(a,i){if(a&1&&(t(0,"option",25),o(1),e()),a&2){let n=i.$implicit;m("value",n.maCt),c(),E(" ",n.name," ")}}function bt(a,i){if(a&1&&(t(0,"option",25),o(1),e()),a&2){let n=i.$implicit;m("value",n),c(),E(" ",n," ")}}function xt(a,i){if(a&1&&(t(0,"option",25),o(1),e()),a&2){let n=i.$implicit;m("value",n),c(),E(" ",n," ")}}function Mt(a,i){if(a&1&&(t(0,"div",26),o(1),e()),a&2){let n=p();c(),g(n.error)}}function vt(a,i){if(a&1&&(Ce(0),o(1),_e()),a&2){let n=p().$implicit;c(),Pe(" ",n.teachers[0]==null?null:n.teachers[0].name," (",n.teachers[0]==null?null:n.teachers[0].maGv,") ")}}function Et(a,i){a&1&&o(0,"Ch\u01B0a c\xF3")}function St(a,i){if(a&1&&(t(0,"option",25),o(1),e()),a&2){let n=i.$implicit;m("value",n.maGv),c(),Pe(" ",n.name," (",n.maGv,") ")}}function Pt(a,i){if(a&1){let n=y();t(0,"tr")(1,"td"),o(2),e(),t(3,"td"),o(4),e(),t(5,"td"),o(6),e(),t(7,"td"),u(8,vt,2,2,"ng-container",38)(9,Et,1,0,"ng-template",null,0,U),e(),t(11,"td")(12,"select",39),_("ngModelChange",function(l){let s=f(n).$implicit,me=p(2);return C(me.assignment[s.maLop],l)||(me.assignment[s.maLop]=l),b(l)}),t(13,"option",40),o(14,"-- Ch\u1ECDn gi\xE1o vi\xEAn --"),e(),u(15,St,2,3,"option",14),e()(),t(16,"td")(17,"button",41),d("click",function(){let l=f(n).$implicit,s=p(2);return b(s.assignSingleTeacher(l.maLop,s.assignment[l.maLop]))}),o(18," L\u01B0u "),e()()()}if(a&2){let n=i.$implicit,r=G(10),l=p(2);c(2),g(n.maLop),c(2),g(n.maHocPhan),c(2),g(n.hocki),c(2),m("ngIf",n.teachers&&n.teachers.length>0)("ngIfElse",r),c(4),h("ngModel",l.assignment[n.maLop]),m("name","teacher_"+n.maLop),c(3),m("ngForOf",l.getTeachersForClass(n.maLop)),c(2),m("disabled",!l.assignment[n.maLop])}}function Ot(a,i){if(a&1&&(t(0,"div",42),o(1),e()),a&2){let n=p(2);c(),E(" ",n.message," ")}}function Tt(a,i){if(a&1){let n=y();t(0,"div",9)(1,"div",27)(2,"div",5)(3,"div",6)(4,"div",28)(5,"h5",7),o(6,"Danh s\xE1ch l\u1EDBp h\u1ECDc"),e(),t(7,"div")(8,"button",29),d("click",function(){f(n);let l=p();return b(l.showAllClazzes())}),o(9," t\u1EA5t c\u1EA3 "),e(),t(10,"button",30),d("click",function(){f(n);let l=p();return b(l.showUnassignedClazzes())}),o(11," ch\u01B0a ph\xE2n c\xF4ng "),e()()(),t(12,"div",31)(13,"table",32)(14,"thead",33)(15,"tr")(16,"th"),o(17,"M\xE3 l\u1EDBp"),e(),t(18,"th"),o(19,"M\xE3 h\u1ECDc ph\u1EA7n"),e(),t(20,"th"),o(21,"H\u1ECDc k\u1EF3"),e(),t(22,"th"),o(23,"Gi\xE1o vi\xEAn ph\u1EE5 tr\xE1ch"),e(),t(24,"th"),o(25,"Ph\xE2n c\xF4ng"),e(),t(26,"th"),o(27,"H\xE0nh \u0111\u1ED9ng"),e()()(),t(28,"tbody"),u(29,Pt,19,9,"tr",34),e()()(),t(30,"div",35)(31,"button",36),d("click",function(){f(n);let l=p();return b(l.saveAssignments())}),o(32," L\u01B0u t\u1EA5t c\u1EA3 ph\xE2n c\xF4ng "),e(),u(33,Ot,2,1,"div",37),e()()()()()}if(a&2){let n=p();c(29),m("ngForOf",n.clazzList)("ngForTrackBy",n.trackByClazz),c(2),m("disabled",!n.hasAssignments()),c(2),m("ngIf",n.message)}}var ce=class a{constructor(i,n,r,l,s,me){this.clazzService=i;this.ctdtService=n;this.semesterService=r;this.giangVienService=l;this.batchService=s;this.assignmentService=me}allClazzes=[];clazzList=[];ctdtList=[];khoaList=[];semesterList=[];teacherList=[];availableTeachers={};searchCriteria={ctdtCode:null,khoa:null,hocKi:null};assignment={};message="";error="";showUnassignedOnly=!1;ngOnInit(){this.loadInitialData()}loadInitialData(){this.loadCTDTs(),this.loadKhoaList(),this.loadSemesterList(),this.loadAllTeachers()}loadCTDTs(){this.ctdtService.getAllCTDTs().subscribe({next:i=>{this.ctdtList=i},error:i=>{this.error="L\u1ED7i khi t\u1EA3i danh s\xE1ch CT\u0110T: "+i.message}})}loadKhoaList(){this.batchService.getAllBatches().subscribe({next:i=>{this.khoaList=i.map(n=>n.name)},error:i=>{this.error="L\u1ED7i khi t\u1EA3i danh s\xE1ch kh\xF3a: "+i.message}})}loadSemesterList(){this.semesterService.getAllSemesters().subscribe({next:i=>{this.semesterList=i.map(n=>n.name)},error:i=>{this.error="L\u1ED7i khi t\u1EA3i danh s\xE1ch h\u1ECDc k\u1EF3: "+i.message}})}loadAllTeachers(){this.giangVienService.getAllTeachers().subscribe({next:i=>{this.teacherList=i},error:i=>{this.error="L\u1ED7i khi t\u1EA3i danh s\xE1ch gi\xE1o vi\xEAn: "+i.message}})}searchClazzes(){this.searchCriteria.ctdtCode&&this.searchCriteria.khoa&&this.searchCriteria.hocKi?this.clazzService.searchClazzes2(this.searchCriteria.ctdtCode,this.searchCriteria.khoa,this.searchCriteria.hocKi).subscribe({next:i=>{this.allClazzes=i,this.clazzList=[...this.allClazzes],this.assignment={},this.availableTeachers={},i.forEach(n=>{this.assignment[n.maLop]="",this.loadAvailableTeachersForClazz(n.maLop,this.searchCriteria.hocKi)}),this.showUnassignedOnly=!1},error:i=>{this.error="L\u1ED7i khi t\xECm ki\u1EBFm l\u1EDBp h\u1ECDc: "+i.message}}):this.error="Vui l\xF2ng ch\u1ECDn CT\u0110T, Kh\xF3a v\xE0 H\u1ECDc k\u1EF3 \u0111\u1EC3 t\xECm ki\u1EBFm."}loadAvailableTeachersForClazz(i,n){this.assignmentService.getAvailableTeachersForClazz(i,n).subscribe({next:r=>{this.availableTeachers[i]=r},error:r=>{console.error(`L\u1ED7i khi t\u1EA3i gi\xE1o vi\xEAn kh\u1EA3 d\u1EE5ng cho l\u1EDBp ${i}:`,r),this.error=`L\u1ED7i khi t\u1EA3i gi\xE1o vi\xEAn kh\u1EA3 d\u1EE5ng cho l\u1EDBp ${i}: ${r.message}`,this.availableTeachers[i]=[]}})}getTeachersForClass(i){return this.availableTeachers[i]||[]}showUnassignedClazzes(){this.showUnassignedOnly=!0,this.clazzService.getUnassignedClazzes(this.searchCriteria.ctdtCode,this.searchCriteria.khoa,this.searchCriteria.hocKi).subscribe({next:i=>{this.clazzList=i,this.assignment={},this.availableTeachers={},i.forEach(n=>{this.assignment[n.maLop]="",this.loadAvailableTeachersForClazz(n.maLop,this.searchCriteria.hocKi)})},error:i=>{this.error="L\u1ED7i khi t\u1EA3i danh s\xE1ch l\u1EDBp ch\u01B0a ph\xE2n c\xF4ng: "+i.message}})}showAllClazzes(){this.showUnassignedOnly=!1,this.clazzList=[...this.allClazzes],this.clazzList.forEach(i=>{this.loadAvailableTeachersForClazz(i.maLop,this.searchCriteria.hocKi)})}hasTeacherAssigned(i){return this.assignment[i.maLop]!==void 0&&this.assignment[i.maLop]!==""}hasAssignments(){return Object.values(this.assignment).some(i=>!!i)}saveAssignments(){let i=Object.keys(this.assignment).filter(n=>this.assignment[n]).map(n=>({maLop:n,maGv:this.assignment[n],hocKi:this.searchCriteria.hocKi}));i.length>0?this.clazzService.assignTeachersToClazzes(i).subscribe({next:n=>{this.message="\u0110\xE3 l\u01B0u l\u1EA1i ph\xE2n c\xF4ng th\xE0nh c\xF4ng.",this.error="",this.searchClazzes()},error:n=>{this.error="L\u1ED7i khi l\u01B0u ph\xE2n c\xF4ng: "+n.error,this.message=""}}):(this.message="Kh\xF4ng c\xF3 ph\xE2n c\xF4ng n\xE0o \u0111\u1EC3 l\u01B0u.",this.error="")}assignSingleTeacher(i,n){n?this.assignmentService.assignTeacherClazz(i,this.searchCriteria.hocKi,n).subscribe({next:r=>{this.message=`\u0110\xE3 ph\xE2n c\xF4ng gi\xE1o vi\xEAn ${n} cho l\u1EDBp ${i} th\xE0nh c\xF4ng.`,this.error="",this.searchClazzes()},error:r=>{this.error=`L\u1ED7i khi ph\xE2n c\xF4ng gi\xE1o vi\xEAn ${n} cho l\u1EDBp ${i}: ${r.error}`,this.message="",this.assignment[i]="",this.loadAvailableTeachersForClazz(i,this.searchCriteria.hocKi)}}):(this.error="Vui l\xF2ng ch\u1ECDn m\u1ED9t gi\xE1o vi\xEAn.",this.message="")}trackByClazz(i,n){return n.maLop}static \u0275fac=function(n){return new(n||a)(M(te),M(ie),M(ne),M(ee),M(Be),M(xe))};static \u0275cmp=v({type:a,selectors:[["app-assign-teacher"]],decls:38,vars:8,consts:[["noTeacher",""],[1,"container-fluid","mt-4","px-4","custom-content-container"],[1,"mb-4","text-center",2,"color","#2c718d"],[1,"row","justify-content-center","mb-3"],[1,"col-md-8"],[1,"card","shadow-sm"],[1,"card-body"],[1,"card-title"],[3,"ngSubmit"],[1,"row"],[1,"col-md-4","mb-3"],["for","ctdtCode",1,"form-label"],["id","ctdtCode","name","ctdtCode",1,"form-control",3,"ngModelChange","ngModel"],["value","","selected",""],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-3","mb-3"],["for","khoa",1,"form-label"],["id","khoa","name","khoa",1,"form-control",3,"ngModelChange","ngModel"],["for","hocKi",1,"form-label"],["id","hocKi","name","hocKi",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-md-2","mb-3","d-flex","align-items-end"],["type","submit",1,"btn","btn-info"],[1,"fa","fa-search","me-1"],["class","alert alert-danger mt-2",4,"ngIf"],["class","row",4,"ngIf"],[3,"value"],[1,"alert","alert-danger","mt-2"],[1,"col-md-12"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"btn","btn-info","mr-2",3,"click"],[1,"btn","btn-info",3,"click"],[1,"table-wrapper"],[1,"table","table-bordered"],[1,"table-info"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"text-center","mt-3"],[1,"btn","btn-danger",3,"click","disabled"],["class","alert alert-success mt-2",4,"ngIf"],[4,"ngIf","ngIfElse"],[1,"form-control",3,"ngModelChange","ngModel","name"],["value",""],[1,"btn","btn-sm","btn-success",3,"click","disabled"],[1,"alert","alert-success","mt-2"]],template:function(n,r){n&1&&(t(0,"div",1)(1,"h2",2),o(2,"Ph\xE2n C\xF4ng Gi\u1EA3ng D\u1EA1y"),e(),t(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"h5",7),o(8,"T\xECm ki\u1EBFm l\u1EDBp h\u1ECDc"),e(),t(9,"form",8),d("ngSubmit",function(){return r.searchClazzes()}),t(10,"div",9)(11,"div",10)(12,"label",11),o(13,"Ch\u01B0\u01A1ng tr\xECnh \u0111\xE0o t\u1EA1o"),e(),t(14,"select",12),_("ngModelChange",function(s){return C(r.searchCriteria.ctdtCode,s)||(r.searchCriteria.ctdtCode=s),s}),t(15,"option",13),o(16,"-- Ch\u1ECDn CT\u0110T --"),e(),u(17,ft,2,2,"option",14),e()(),t(18,"div",15)(19,"label",16),o(20,"Kh\xF3a"),e(),t(21,"select",17),_("ngModelChange",function(s){return C(r.searchCriteria.khoa,s)||(r.searchCriteria.khoa=s),s}),t(22,"option",13),o(23,"-- Ch\u1ECDn Kh\xF3a --"),e(),u(24,bt,2,2,"option",14),e()(),t(25,"div",15)(26,"label",18),o(27,"H\u1ECDc k\u1EF3"),e(),t(28,"select",19),_("ngModelChange",function(s){return C(r.searchCriteria.hocKi,s)||(r.searchCriteria.hocKi=s),s}),t(29,"option",13),o(30,"-- Ch\u1ECDn H\u1ECDc k\u1EF3 --"),e(),u(31,xt,2,2,"option",14),e()(),t(32,"div",20)(33,"button",21),x(34,"i",22),o(35," T\xECm ki\u1EBFm "),e()()(),u(36,Mt,2,1,"div",23),e()()()()(),u(37,Tt,34,4,"div",24),e()),n&2&&(c(14),h("ngModel",r.searchCriteria.ctdtCode),c(3),m("ngForOf",r.ctdtList),c(4),h("ngModel",r.searchCriteria.khoa),c(3),m("ngForOf",r.khoaList),c(4),h("ngModel",r.searchCriteria.hocKi),c(3),m("ngForOf",r.semesterList),c(5),m("ngIf",r.error),c(),m("ngIf",r.clazzList.length>0))},dependencies:[S,O,k,L,T,Y,Z,$,J,w,Q,z,X],styles:[".table-wrapper[_ngcontent-%COMP%]{margin-top:20px;border-radius:8px;overflow:hidden}.table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px;text-align:left;border:1px solid #ddd;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.table[_ngcontent-%COMP%]   thead.table-info[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#000;font-weight:700;background-color:#bee5eb;border-color:#8dd3e4}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table-row!important}h2[_ngcontent-%COMP%]{font-size:2.5rem;background:linear-gradient(135deg,#a8d0e6,#b0e0e6);color:#2c3e50!important;font-weight:700;text-transform:uppercase;border-radius:15px;padding:15px 25px;display:inline-block;box-shadow:0 4px 10px #0000001a;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;letter-spacing:1px;text-align:center;transition:transform .3s ease;margin-bottom:20px;width:100%}h2[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.custom-content-container[_ngcontent-%COMP%]{background-color:#ededea;padding:25px;border-radius:10px;box-shadow:0 0 10px #0000000d}.container[_ngcontent-%COMP%]{padding:20px}.row[_ngcontent-%COMP%]{margin-top:20px}.table[_ngcontent-%COMP%]{margin-top:30px}.container[_ngcontent-%COMP%], .table[_ngcontent-%COMP%], .input-group[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]{border-radius:8px}.search-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:15px;margin-top:20px}.search-container[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{width:auto}.search-container[_ngcontent-%COMP%]   .mb-2[_ngcontent-%COMP%]{margin-bottom:0}.search-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700}.search-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:5px}input[_ngcontent-%COMP%]::placeholder{color:#6c757d;opacity:1;text-align:left}input.form-control[_ngcontent-%COMP%]{border:1px solid #ced4da;border-radius:5px;padding:10px;transition:all .3s ease}input.form-control[_ngcontent-%COMP%]:focus{border-color:#007bff;box-shadow:0 0 5px #007bff80;outline:none}input.form-control[_ngcontent-%COMP%]:hover{border-color:#80bdff}label.form-label[_ngcontent-%COMP%]{color:#495057;font-weight:700;transition:color .3s ease}input.form-control[_ngcontent-%COMP%]:focus ~ label.form-label[_ngcontent-%COMP%]{color:#007bff}.row[_ngcontent-%COMP%]   .col-md-3[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start}.mb-3[_ngcontent-%COMP%]{margin-bottom:1rem}.btn-warning[_ngcontent-%COMP%]{color:#212529;background-color:#ffc107;border-color:#ffc107;border-radius:8px;transition:background-color .15s ease-in-out,border-color .15s ease-in-out}.btn-warning[_ngcontent-%COMP%]:hover{background-color:#e0a800;border-color:#d39e00}.btn-danger[_ngcontent-%COMP%]{color:#fff;background-color:#dc3545;border-color:#dc3545;border-radius:8px;transition:background-color .15s ease-in-out,border-color .15s ease-in-out}.btn-danger[_ngcontent-%COMP%]:hover{background-color:#c82333;border-color:#bd2130}.btn-primary[_ngcontent-%COMP%]{color:#fff;background-color:#007bff;border-color:#007bff;border-radius:8px;transition:background-color .15s ease-in-out,border-color .15s ease-in-out}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0056b3;border-color:#0056b3}.btn-info[_ngcontent-%COMP%]{color:#fff;background-color:#17a2b8;border-color:#17a2b8;transition:background-color .15s ease-in-out,border-color .15s ease-in-out}.btn-info[_ngcontent-%COMP%]:hover{background-color:#138496;border-color:#117a8b}"]})};function yt(a,i){if(a&1&&(t(0,"option",21),o(1),e()),a&2){let n=i.$implicit;m("value",n.maCt),c(),g(n.maCt)}}function kt(a,i){if(a&1&&(t(0,"option",21),o(1),e()),a&2){let n=i.$implicit;m("value",n),c(),g(n)}}function wt(a,i){if(a&1&&(t(0,"option",21),o(1),e()),a&2){let n=i.$implicit;m("value",n),c(),g(n)}}function zt(a,i){if(a&1&&(t(0,"div",22),o(1),e()),a&2){let n=p();c(),E(" ",n.message," ")}}function Lt(a,i){if(a&1&&(t(0,"div",23),o(1),e()),a&2){let n=p();c(),E(" ",n.error," ")}}var se=class a{constructor(i,n,r,l){this.semesterService=i;this.courseService=n;this.clazzService=r;this.ctdtService=l}selectedCTDTCode=null;selectedKhoa=null;selectedHocKi=null;message="";error="";ctdtList=[];khoaList=["66","67","68"];semesterList=["20253","20261","20262"];ngOnInit(){this.loadCTDTs()}loadCTDTs(){this.ctdtService.getAllCTDTs().subscribe({next:i=>{this.ctdtList=i},error:i=>{this.error=`L\u1ED7i khi t\u1EA3i danh s\xE1ch CT\u0110T: ${i.message}`}})}generateClazzesForCTDTKhoa(){this.selectedCTDTCode&&this.selectedKhoa&&this.selectedHocKi?this.clazzService.generateClazzesForCTDTCodeAndKhoa(this.selectedCTDTCode,this.selectedKhoa,this.selectedHocKi).subscribe({next:i=>{this.message=i,this.error=""},error:i=>{this.error=`L\u1ED7i t\u1EA1o l\u1EDBp: ${i.message}`,this.message=""}}):(this.error="Vui l\xF2ng ch\u1ECDn CT\u0110T, Kh\xF3a v\xE0 H\u1ECDc k\u1EF3.",this.message="")}static \u0275fac=function(n){return new(n||a)(M(ne),M(fe),M(te),M(ie))};static \u0275cmp=v({type:a,selectors:[["app-create-clazz"]],decls:36,vars:9,consts:[[1,"container-fluid","mt-4","px-4","custom-content-container"],[1,"row","justify-content-center"],[1,"col-md-6"],[1,"card","shadow-sm",2,"background-color","#2c718d"],[1,"card-header","text-center",2,"background-color","#2c718d","border-bottom","none"],[1,"mb-0","text-white"],[1,"card-body"],[1,"mb-3"],["for","ctdtCode",1,"form-label",2,"color","white"],["id","ctdtCode","name","ctdtCode",1,"form-control",3,"ngModelChange","ngModel"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["for","khoa",1,"form-label",2,"color","white"],["name","khoa","id","khoa",1,"form-control",3,"ngModelChange","ngModel"],["for","hocki",1,"form-label",2,"color","white"],["name","hocki","id","hocki",1,"form-control",3,"ngModelChange","ngModel"],[1,"card-footer","text-center",2,"background-color","#2c718d","border-top","none"],["type","button",1,"btn","btn-success",3,"click","disabled"],[1,"fa","fa-save","me-2"],["class","alert alert-success mt-3",4,"ngIf"],["class","alert alert-danger mt-3",4,"ngIf"],[3,"value"],[1,"alert","alert-success","mt-3"],[1,"alert","alert-danger","mt-3"]],template:function(n,r){n&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"form")(4,"div",3)(5,"div",4)(6,"h5",5),o(7,"T\u1EA1o L\u1EDBp H\u1ECDc Theo CT\u0110T, Kh\xF3a v\xE0 H\u1ECDc k\u1EF3"),e()(),t(8,"div",6)(9,"div",7)(10,"label",8),o(11,"Ch\u01B0\u01A1ng tr\xECnh \u0111\xE0o t\u1EA1o (CT\u0110T)"),e(),t(12,"select",9),_("ngModelChange",function(s){return C(r.selectedCTDTCode,s)||(r.selectedCTDTCode=s),s}),t(13,"option",10),o(14,"Ch\u1ECDn CT\u0110T"),e(),u(15,yt,2,2,"option",11),e()(),t(16,"div",7)(17,"label",12),o(18,"Kh\xF3a"),e(),t(19,"select",13),_("ngModelChange",function(s){return C(r.selectedKhoa,s)||(r.selectedKhoa=s),s}),t(20,"option",10),o(21,"Ch\u1ECDn Kh\xF3a"),e(),u(22,kt,2,2,"option",11),e()(),t(23,"div",7)(24,"label",14),o(25,"H\u1ECDc k\u1EF3"),e(),t(26,"select",15),_("ngModelChange",function(s){return C(r.selectedHocKi,s)||(r.selectedHocKi=s),s}),t(27,"option",10),o(28,"Ch\u1ECDn H\u1ECDc k\u1EF3"),e(),u(29,wt,2,2,"option",11),e()()(),t(30,"div",16)(31,"button",17),d("click",function(){return r.generateClazzesForCTDTKhoa()}),x(32,"i",18),o(33," T\u1EA1o L\u1EDBp H\u1ECDc "),e()()()(),u(34,zt,2,1,"div",19)(35,Lt,2,1,"div",20),e()()()),n&2&&(c(12),h("ngModel",r.selectedCTDTCode),c(3),m("ngForOf",r.ctdtList),c(4),h("ngModel",r.selectedKhoa),c(3),m("ngForOf",r.khoaList),c(4),h("ngModel",r.selectedHocKi),c(3),m("ngForOf",r.semesterList),c(2),m("disabled",!r.selectedCTDTCode||!r.selectedKhoa||!r.selectedHocKi),c(3),m("ngIf",r.message),c(),m("ngIf",r.error))},dependencies:[S,O,k,T,Y,Z,$,J,w,Q,z,X],styles:[".table[_ngcontent-%COMP%]{table-layout:auto;width:100%;border-collapse:collapse;margin-top:30px}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px;text-align:left;border:1px solid #ddd;white-space:nowrap}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.title-heading[_ngcontent-%COMP%]{font-size:2.5rem;background:linear-gradient(135deg,#a8d0e6,#b0e0e6);color:#2c3e50;font-weight:700;text-transform:uppercase;border-radius:15px;padding:15px 25px;display:inline-block;box-shadow:0 4px 10px #0000001a;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;letter-spacing:1px;text-align:center;transition:transform .3s ease}.title-heading[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{word-wrap:break-word;white-space:nowrap}.custom-content-container[_ngcontent-%COMP%]{background-color:#ededea;padding:25px;border-radius:10px;box-shadow:0 0 10px #0000000d}.container[_ngcontent-%COMP%]{padding:20px}.row[_ngcontent-%COMP%]{margin-top:20px}.table[_ngcontent-%COMP%]{margin-top:30px}.container[_ngcontent-%COMP%], .table[_ngcontent-%COMP%], .input-group[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]{border-radius:8px}.search-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:15px;margin-top:20px}.search-container[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{width:auto}.search-container[_ngcontent-%COMP%]   .mb-2[_ngcontent-%COMP%]{margin-bottom:0}.search-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700}.search-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:5px}input[_ngcontent-%COMP%]::placeholder{color:#6c757d;opacity:1;text-align:center}input.form-control[_ngcontent-%COMP%]{border:2px solid #ced4da;border-radius:5px;padding:10px;transition:all .3s ease}input.form-control[_ngcontent-%COMP%]:focus{border-color:#007bff;box-shadow:0 0 5px #007bff80;outline:none}input.form-control[_ngcontent-%COMP%]:hover{border-color:#80bdff}label.form-label[_ngcontent-%COMP%]{color:#495057;font-weight:700;transition:color .3s ease}input.form-control[_ngcontent-%COMP%]:focus ~ label.form-label[_ngcontent-%COMP%]{color:#007bff}.row[_ngcontent-%COMP%]   .col-md-3[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.mb-3[_ngcontent-%COMP%]{margin-bottom:1rem}"]})};var de=class a{static \u0275fac=function(n){return new(n||a)};static \u0275cmp=v({type:a,selectors:[["app-layout-qldt"]],standalone:!1,decls:31,vars:0,consts:[[1,"app-layout"],[1,"main-body"],[1,"sidebar"],[1,"menu-list"],["routerLink","/qldt/course",1,"menu-item"],["routerLink","/qldt/clazz",1,"menu-item"],["routerLink","/qldt/teacher",1,"menu-item"],["routerLink","/qldt/assign-teacher",1,"menu-item"],["routerLink","/qldt/create-clazz",1,"menu-item"],["routerLink","/qldt/semester",1,"menu-item"],["routerLink","/qldt/cth",1,"menu-item"],["routerLink","/qldt/dangkilop",1,"menu-item"],[1,"content"]],template:function(n,r){n&1&&(t(0,"div",0),x(1,"app-header"),t(2,"div",1)(3,"div",2)(4,"ul",3)(5,"li")(6,"a",4),o(7,"Danh s\xE1ch h\u1ECDc ph\u1EA7n"),e()(),t(8,"li")(9,"a",5),o(10,"Danh s\xE1ch l\u1EDBp"),e()(),t(11,"li")(12,"a",6),o(13,"Danh s\xE1ch gi\xE1o vi\xEAn"),e()(),t(14,"li")(15,"a",7),o(16,"Ph\xE2n c\xF4ng gi\xE1o vi\xEAn"),e()(),t(17,"li")(18,"a",8),o(19,"T\u1EA1o l\u1EDBp"),e()(),t(20,"li")(21,"a",9),o(22,"\u0110\u1EE3t \u0111\u0103ng k\xED"),e()(),t(23,"li")(24,"a",10),o(25,"Ch\u01B0\u01A1ng tr\xECnh h\u1ECDc"),e()(),t(26,"li")(27,"a",11),o(28,"Qu\u1EA3n l\xED \u0111\u0103ng k\xED"),e()()()(),t(29,"div",12),x(30,"router-outlet"),e()()())},dependencies:[Ie,Fe,be],styles:[".app-layout[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100vh;font-family:Segoe UI,Roboto,Arial,sans-serif}app-header[_ngcontent-%COMP%]{height:60px;background-color:#333;color:#fff;display:flex;align-items:center;padding-left:20px;justify-content:center}.main-body[_ngcontent-%COMP%]{display:flex;flex:1;height:calc(100vh - 60px)}.sidebar[_ngcontent-%COMP%]{background-color:#34495e;color:#ecf0f1;padding:20px;display:flex;flex-direction:column;box-shadow:2px 0 8px #0000001a;width:fit-content;min-width:180px;max-width:250px}.logo[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:20px}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:120px;border-radius:10px}.sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;padding:0}.sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0;border-bottom:1px solid rgba(255,255,255,.15)}.menu-item[_ngcontent-%COMP%]{color:#ecf0f1;text-decoration:none;font-size:17px;padding:18px 15px;border-radius:8px;display:block;transition:all .3s ease}.menu-item[_ngcontent-%COMP%]:hover{background-color:#1abc9c;color:#fff;transform:scale(1.03);box-shadow:0 4px 8px #00000026}.content[_ngcontent-%COMP%]{flex:1;padding:30px;background-color:#f7f9fa;overflow-y:auto}@media (max-width: 768px){.main-body[_ngcontent-%COMP%]{flex-direction:column}.sidebar[_ngcontent-%COMP%]{width:100%;flex-direction:row;justify-content:space-around;align-items:center;padding:10px}.sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:center}.sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:5px;border-bottom:none}.content[_ngcontent-%COMP%]{width:100%;padding:15px}}"]})};function Dt(a,i){if(a&1){let n=y();t(0,"tr")(1,"td")(2,"input",7),_("ngModelChange",function(l){let s=f(n).$implicit;return C(s.isSelected,l)||(s.isSelected=l),b(l)}),e()(),t(3,"td"),o(4),e(),t(5,"td"),o(6),e(),t(7,"td"),o(8),e(),t(9,"td"),o(10),e(),t(11,"td"),o(12),e(),t(13,"td"),o(14),e(),t(15,"td"),o(16),e(),t(17,"td")(18,"button",8),d("click",function(){let l=f(n).$implicit,s=p(2);return b(s.approveRequest(l.id))}),o(19,"Duy\u1EC7t"),e(),t(20,"button",8),d("click",function(){let l=f(n).$implicit,s=p(2);return b(s.rejectRequest(l.id))}),o(21,"T\u1EEB ch\u1ED1i"),e()()()}if(a&2){let n=i.$implicit;c(2),h("ngModel",n.isSelected),c(2),g(n.id),c(2),g(n.requestDate),c(2),g(n.studentMssv),c(2),g(n.studentName),c(2),g(n.clazzMaLop),c(2),g(n.semesterName),c(2),g(n.status)}}function It(a,i){if(a&1){let n=y();t(0,"div")(1,"p"),o(2,"C\xE1c y\xEAu c\u1EA7u \u0111ang ch\u1EDD duy\u1EC7t:"),e(),t(3,"table")(4,"thead")(5,"tr"),x(6,"th"),t(7,"th"),o(8,"ID"),e(),t(9,"th"),o(10,"Ng\xE0y y\xEAu c\u1EA7u"),e(),t(11,"th"),o(12,"MSSV Sinh vi\xEAn"),e(),t(13,"th"),o(14,"T\xEAn Sinh vi\xEAn"),e(),t(15,"th"),o(16,"M\xE3 L\u1EDBp"),e(),t(17,"th"),o(18,"H\u1ECDc k\u1EF3"),e(),t(19,"th"),o(20,"Tr\u1EA1ng th\xE1i"),e(),t(21,"th"),o(22,"H\xE0nh \u0111\u1ED9ng"),e()()(),t(23,"tbody"),u(24,Dt,22,8,"tr",5),e()(),t(25,"button",6),d("click",function(){f(n);let l=p();return b(l.approveSelectedRequests())}),o(26,"Duy\u1EC7t c\xE1c m\u1EE5c \u0111\xE3 ch\u1ECDn"),e(),t(27,"button",6),d("click",function(){f(n);let l=p();return b(l.rejectSelectedRequests())}),o(28,"T\u1EEB ch\u1ED1i c\xE1c m\u1EE5c \u0111\xE3 ch\u1ECDn"),e()()}if(a&2){let n=p();c(24),m("ngForOf",n.pendingRequests),c(),m("disabled",!n.selectedRequestsExist()),c(2),m("disabled",!n.selectedRequestsExist())}}function Ft(a,i){a&1&&(t(0,"p"),o(1,"Kh\xF4ng c\xF3 y\xEAu c\u1EA7u \u0111\u0103ng k\xFD l\u1EDBp \u0111\u1EB7c bi\u1EC7t n\xE0o \u0111ang ch\u1EDD duy\u1EC7t."),e())}function At(a,i){if(a&1&&(t(0,"div",9),o(1),e()),a&2){let n=p();c(),g(n.message)}}function Vt(a,i){if(a&1&&(t(0,"div",10),o(1),e()),a&2){let n=p();c(),g(n.error)}}var Me=class a{constructor(i){this.dangKiLopService=i}pendingRequests=[];message="";error="";p=1;ngOnInit(){this.loadPendingRequests()}loadPendingRequests(){this.dangKiLopService.getPendingSpecialRequests().subscribe({next:i=>{this.pendingRequests=i.map(n=>Te(ge({},n),{isSelected:!1}))},error:i=>{this.error="L\u1ED7i khi t\u1EA3i y\xEAu c\u1EA7u: "+i}})}approveRequest(i){i&&this.dangKiLopService.approveSpecialRequest(i).subscribe({next:n=>{this.message=n,this.error="",this.loadPendingRequests()},error:n=>{this.error="L\u1ED7i khi duy\u1EC7t y\xEAu c\u1EA7u ID "+i+": "+n,this.message=""}})}rejectRequest(i){i&&this.dangKiLopService.rejectSpecialRequest(i).subscribe({next:n=>{this.message=n,this.error="",this.loadPendingRequests()},error:n=>{this.error="L\u1ED7i khi t\u1EEB ch\u1ED1i y\xEAu c\u1EA7u ID "+i+": "+n,this.message=""}})}getSelectedRequestIds(){return this.pendingRequests.filter(i=>i.isSelected&&i.id!==void 0).map(i=>i.id)}selectedRequestsExist(){return this.getSelectedRequestIds().length>0}approveSelectedRequests(){let i=this.getSelectedRequestIds();i.length>0?this.dangKiLopService.approveMultipleSpecialRequests(i).subscribe({next:n=>{this.message=n,this.error="",this.loadPendingRequests()},error:n=>{this.error="L\u1ED7i khi duy\u1EC7t c\xE1c y\xEAu c\u1EA7u \u0111\xE3 ch\u1ECDn: "+n,this.message=""}}):(this.message="Vui l\xF2ng ch\u1ECDn c\xE1c y\xEAu c\u1EA7u \u0111\u1EC3 duy\u1EC7t.",this.error="")}rejectSelectedRequests(){let i=this.getSelectedRequestIds();i.length>0?this.dangKiLopService.rejectMultipleSpecialRequests(i).subscribe({next:n=>{this.message=n,this.error="",this.loadPendingRequests()},error:n=>{this.error="L\u1ED7i khi t\u1EEB ch\u1ED1i c\xE1c y\xEAu c\u1EA7u \u0111\xE3 ch\u1ECDn: "+n,this.message=""}}):(this.message="Vui l\xF2ng ch\u1ECDn c\xE1c y\xEAu c\u1EA7u \u0111\u1EC3 t\u1EEB ch\u1ED1i.",this.error="")}static \u0275fac=function(n){return new(n||a)(M(We))};static \u0275cmp=v({type:a,selectors:[["app-dangkilop"]],decls:10,vars:4,consts:[["noRequests",""],[4,"ngIf","ngIfElse"],["class","alert",4,"ngIf"],["class","alert error",4,"ngIf"],[3,"pageChange"],[4,"ngFor","ngForOf"],[3,"click","disabled"],["type","checkbox",3,"ngModelChange","ngModel"],[3,"click"],[1,"alert"],[1,"alert","error"]],template:function(n,r){if(n&1){let l=y();t(0,"h2"),o(1,"Qu\u1EA3n l\xFD Y\xEAu c\u1EA7u \u0110\u0103ng k\xFD L\u1EDBp \u0110\u1EB7c Bi\u1EC7t"),e(),u(2,It,29,3,"div",1)(3,Ft,2,0,"ng-template",null,0,U)(5,At,2,1,"div",2)(6,Vt,2,1,"div",3),t(7,"p"),o(8,"Trang: "),t(9,"pagination-controls",4),d("pageChange",function(me){return f(l),b(r.p=me)}),e()()}if(n&2){let l=G(4);c(2),m("ngIf",r.pendingRequests&&r.pendingRequests.length>0)("ngIfElse",l),c(3),m("ngIf",r.message),c(),m("ngIf",r.error)}},dependencies:[S,O,k,L,I,T,Ae,w,z],styles:["h2[_ngcontent-%COMP%]{margin-bottom:20px;color:#333}p[_ngcontent-%COMP%]{margin-bottom:15px;color:#555}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-bottom:20px;box-shadow:0 2px 5px #0000001a;border-radius:5px;overflow:hidden}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:1px solid #ddd;padding:10px;text-align:left}th[_ngcontent-%COMP%]{background-color:#f8f8f8;font-weight:700;color:#333}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f9f9f9}button[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none;padding:8px 15px;margin-right:10px;cursor:pointer;border-radius:4px;font-size:14px;transition:background-color .3s ease}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}button[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}.alert[_ngcontent-%COMP%]{margin-top:15px;padding:12px;border-radius:4px;font-size:14px}.alert.error[_ngcontent-%COMP%]{background-color:#ffe0e0;color:#d32f2f;border:1px solid #d32f2f}.alert.success[_ngcontent-%COMP%]{background-color:#e0f7fa;color:#00897b;border:1px solid #00897b}.ngx-pagination[_ngcontent-%COMP%]{margin-top:15px;text-align:center}.ngx-pagination[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:0;list-style:none;display:inline-block}.ngx-pagination[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline;margin:0 5px}.ngx-pagination[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .ngx-pagination[_ngcontent-%COMP%]   span.current[_ngcontent-%COMP%]{padding:5px 10px;border:1px solid #ddd;text-decoration:none;color:#333;border-radius:4px;background-color:#fff}.ngx-pagination[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}.ngx-pagination[_ngcontent-%COMP%]   span.current[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border-color:#007bff}.ngx-pagination[_ngcontent-%COMP%]   .disabled[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .ngx-pagination[_ngcontent-%COMP%]   .disabled[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#777;cursor:default;border-color:#eee;background-color:#eee}"]})};var Nt=a=>({itemsPerPage:10,currentPage:a}),Ge=a=>({"show d-block":a});function Bt(a,i){if(a&1&&(t(0,"tr")(1,"td"),o(2),e(),t(3,"td"),o(4),e(),t(5,"td"),o(6),e()()),a&2){let n=i.$implicit;c(2),g(n.maHocPhan),c(2),g(n.tenMonHoc),c(2),g(n.tinChi)}}function Wt(a,i){if(a&1&&(t(0,"div",46),o(1),e()),a&2){let n=p();c(),g(n.createCtdtError)}}function Kt(a,i){if(a&1&&(t(0,"div",47),o(1),e()),a&2){let n=p();c(),g(n.createCtdtMessage)}}function Rt(a,i){if(a&1&&(t(0,"div",46),o(1),e()),a&2){let n=p();c(),g(n.uploadError)}}function qt(a,i){if(a&1&&(t(0,"div",47),o(1),e()),a&2){let n=p();c(),g(n.uploadMessage)}}var ve=class a{constructor(i){this.ctdtService=i}isCreateCtdtModalVisible=!1;isImportExcelModalVisible=!1;newCtdtName="";newCtdtMaCt="";newCtdtKhoa="";createCtdtMessage="";createCtdtError="";selectedFile=null;ctdtCodeExcel="";khoaExcel="";uploadMessage="";uploadError="";ctdtCodeSearchFilter="";khoaSearchFilter="";courses=[];filteredCourses=[];searchError="";ctdtList=[];p=1;ngOnInit(){this.loadCTDTs(),this.searchCourses()}loadCTDTs(){this.ctdtService.getAllCTDTs().subscribe({next:i=>{this.ctdtList=i},error:i=>{console.error("L\u1ED7i khi t\u1EA3i danh s\xE1ch CT\u0110T",i),this.searchError="L\u1ED7i khi t\u1EA3i danh s\xE1ch CT\u0110T"}})}openCreateCtdtModal(){this.isCreateCtdtModalVisible=!0,this.createCtdtMessage="",this.createCtdtError=""}closeCreateCtdtModal(){this.isCreateCtdtModalVisible=!1}openImportExcelModal(){this.isImportExcelModalVisible=!0,this.uploadMessage="",this.uploadError=""}closeImportExcelModal(){this.isImportExcelModalVisible=!1}onFileSelected(i){this.selectedFile=i.target.files[0]}uploadFile(){this.selectedFile&&this.ctdtCodeExcel&&this.khoaExcel?(this.uploadMessage="\u0110ang t\u1EA3i l\xEAn...",this.uploadError="",this.ctdtService.importCoursesFromExcel(this.ctdtCodeExcel,this.khoaExcel,this.selectedFile).subscribe({next:i=>{this.uploadMessage=i,this.selectedFile=null,this.ctdtCodeExcel="",this.khoaExcel=""},error:i=>{console.error("L\u1ED7i t\u1EA3i l\xEAn file",i),this.uploadError="L\u1ED7i t\u1EA3i l\xEAn file: "+(i.error.message||i.message),this.uploadMessage=""}})):(this.uploadError="Vui l\xF2ng ch\u1ECDn file, m\xE3 CT\u0110T v\xE0 kh\xF3a.",this.uploadMessage="")}createCtdt(){this.newCtdtName&&this.newCtdtMaCt&&this.newCtdtKhoa?(this.createCtdtMessage="\u0110ang t\u1EA1o m\u1EDBi...",this.createCtdtError="",this.ctdtService.addCTDT({name:this.newCtdtName,maCt:this.newCtdtMaCt,khoa:this.newCtdtKhoa}).subscribe({next:i=>{this.createCtdtMessage=`T\u1EA1o m\u1EDBi CT\u0110T "${i.name}" th\xE0nh c\xF4ng!`,this.newCtdtName="",this.newCtdtMaCt="",this.newCtdtKhoa="",this.closeCreateCtdtModal(),this.searchCourses()},error:i=>{console.error("L\u1ED7i khi t\u1EA1o m\u1EDBi CT\u0110T",i),this.createCtdtError="L\u1ED7i t\u1EA1o m\u1EDBi CT\u0110T: "+(i.error.message||i.message),this.createCtdtMessage=""}})):(this.createCtdtError="Vui l\xF2ng nh\u1EADp \u0111\u1EA7y \u0111\u1EE7 th\xF4ng tin CT\u0110T.",this.createCtdtMessage="")}searchCourses(){this.ctdtCodeSearchFilter&&this.khoaSearchFilter?(this.searchError="",this.ctdtService.getCoursesByMaCTAndKhoa(this.ctdtCodeSearchFilter,this.khoaSearchFilter).subscribe({next:i=>{this.courses=i,this.filteredCourses=[...i]},error:i=>{console.error("L\u1ED7i khi t\u1EA3i h\u1ECDc ph\u1EA7n",i),this.searchError="L\u1ED7i khi t\u1EA3i h\u1ECDc ph\u1EA7n: "+(i.error.message||i.message),this.courses=[],this.filteredCourses=[]}})):this.filteredCourses=[]}static \u0275fac=function(n){return new(n||a)(M(ie))};static \u0275cmp=v({type:a,selectors:[["app-cth"]],decls:90,vars:24,consts:[[1,"container-fluid","mt-4","px-4"],[1,"container-fluid","mt-3","px-3"],[1,"text-center"],[1,"title-heading"],[1,"row","mb-3"],[1,"col-md-auto"],[1,"btn","btn-primary","me-2",3,"click"],[1,"fa","fa-plus","me-1"],[1,"btn","btn-success","me-2",3,"click"],[1,"fa","fa-upload","me-1"],[1,"col-md-3"],["for","ctdtCodeFilter",1,"form-label"],["type","text","id","ctdtCodeFilter",1,"form-control",3,"ngModelChange","ngModel"],["for","khoaFilter",1,"form-label"],["type","text","id","khoaFilter",1,"form-control",3,"ngModelChange","ngModel"],[1,"row"],[1,"table","table-bordered","table-striped","table-hover"],[1,"table-info","text-center"],[4,"ngFor","ngForOf"],["previousLabel","\xAB","nextLabel","\xBB",1,"d-flex","justify-content-center","mt-3",3,"pageChange"],["tabindex","-1",1,"modal","fade",2,"background","rgba(0,0,0,0.4)",3,"ngClass"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],[1,"mb-3"],["for","tenCTDTModal",1,"form-label"],["type","text","id","tenCTDTModal",1,"form-control",3,"ngModelChange","ngModel"],["for","maCTDTModal",1,"form-label"],["type","text","id","maCTDTModal",1,"form-control",3,"ngModelChange","ngModel"],["for","khoaCTDTModal",1,"form-label"],["type","text","id","khoaCTDTModal",1,"form-control",3,"ngModelChange","ngModel"],["class","alert alert-danger mt-2",4,"ngIf"],["class","alert alert-success mt-2",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],["for","ctdtCodeExcelModal",1,"form-label"],["type","text","id","ctdtCodeExcelModal",1,"form-control",3,"ngModelChange","ngModel"],["for","khoaExcelModal",1,"form-label"],["type","text","id","khoaExcelModal",1,"form-control",3,"ngModelChange","ngModel"],["for","fileUploadModal",1,"form-label"],["type","file","id","fileUploadModal",1,"form-control-file",3,"change"],["type","button",1,"btn","btn-success",3,"click","disabled"],[1,"alert","alert-danger","mt-2"],[1,"alert","alert-success","mt-2"]],template:function(n,r){n&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),o(4," Danh s\xE1ch H\u1ECDc ph\u1EA7n theo CT\u0110T v\xE0 Kh\xF3a "),e()()(),t(5,"div",4)(6,"div",5)(7,"button",6),d("click",function(){return r.openCreateCtdtModal()}),x(8,"i",7),o(9," Th\xEAm m\u1EDBi CT\u0110T "),e(),t(10,"button",8),d("click",function(){return r.openImportExcelModal()}),x(11,"i",9),o(12," Nh\u1EADp t\u1EEB Excel "),e()()(),t(13,"div",4)(14,"div",10)(15,"label",11),o(16,"M\xE3 CT\u0110T:"),e(),t(17,"input",12),_("ngModelChange",function(s){return C(r.ctdtCodeSearchFilter,s)||(r.ctdtCodeSearchFilter=s),s}),d("ngModelChange",function(){return r.searchCourses()}),e()(),t(18,"div",10)(19,"label",13),o(20,"Kh\xF3a:"),e(),t(21,"input",14),_("ngModelChange",function(s){return C(r.khoaSearchFilter,s)||(r.khoaSearchFilter=s),s}),d("ngModelChange",function(){return r.searchCourses()}),e()()(),t(22,"div",15)(23,"table",16)(24,"thead",17)(25,"tr")(26,"th"),o(27,"M\xE3 h\u1ECDc ph\u1EA7n"),e(),t(28,"th"),o(29,"T\xEAn m\xF4n h\u1ECDc"),e(),t(30,"th"),o(31,"S\u1ED1 t\xEDn ch\u1EC9"),e()()(),t(32,"tbody"),u(33,Bt,7,3,"tr",18),F(34,"paginate"),e()(),t(35,"pagination-controls",19),d("pageChange",function(s){return r.p=s}),e()(),t(36,"div",20)(37,"div",21)(38,"div",22)(39,"div",23)(40,"h5",24),o(41,"Th\xEAm m\u1EDBi Ch\u01B0\u01A1ng tr\xECnh \u0111\xE0o t\u1EA1o"),e(),t(42,"button",25),d("click",function(){return r.closeCreateCtdtModal()}),e()(),t(43,"div",26)(44,"div",27)(45,"label",28),o(46,"T\xEAn ch\u01B0\u01A1ng tr\xECnh:"),e(),t(47,"input",29),_("ngModelChange",function(s){return C(r.newCtdtName,s)||(r.newCtdtName=s),s}),e()(),t(48,"div",27)(49,"label",30),o(50,"M\xE3 ch\u01B0\u01A1ng tr\xECnh:"),e(),t(51,"input",31),_("ngModelChange",function(s){return C(r.newCtdtMaCt,s)||(r.newCtdtMaCt=s),s}),e()(),t(52,"div",27)(53,"label",32),o(54,"Kh\xF3a h\u1ECDc:"),e(),t(55,"input",33),_("ngModelChange",function(s){return C(r.newCtdtKhoa,s)||(r.newCtdtKhoa=s),s}),e()(),u(56,Wt,2,1,"div",34)(57,Kt,2,1,"div",35),e(),t(58,"div",36)(59,"button",37),d("click",function(){return r.closeCreateCtdtModal()}),o(60,"\u0110\xF3ng"),e(),t(61,"button",38),d("click",function(){return r.createCtdt()}),o(62,"T\u1EA1o m\u1EDBi"),e()()()()(),t(63,"div",20)(64,"div",21)(65,"div",22)(66,"div",23)(67,"h5",24),o(68,"Nh\u1EADp h\u1ECDc ph\u1EA7n t\u1EEB Excel"),e(),t(69,"button",25),d("click",function(){return r.closeImportExcelModal()}),e()(),t(70,"div",26)(71,"div",27)(72,"label",39),o(73,"M\xE3 CT\u0110T:"),e(),t(74,"input",40),_("ngModelChange",function(s){return C(r.ctdtCodeExcel,s)||(r.ctdtCodeExcel=s),s}),e()(),t(75,"div",27)(76,"label",41),o(77,"Kh\xF3a:"),e(),t(78,"input",42),_("ngModelChange",function(s){return C(r.khoaExcel,s)||(r.khoaExcel=s),s}),e()(),t(79,"div",27)(80,"label",43),o(81,"Ch\u1ECDn file Excel:"),e(),t(82,"input",44),d("change",function(s){return r.onFileSelected(s)}),e()(),u(83,Rt,2,1,"div",34)(84,qt,2,1,"div",35),e(),t(85,"div",36)(86,"button",37),d("click",function(){return r.closeImportExcelModal()}),o(87,"\u0110\xF3ng"),e(),t(88,"button",45),d("click",function(){return r.uploadFile()}),o(89,"T\u1EA3i l\xEAn"),e()()()()()()),n&2&&(c(17),h("ngModel",r.ctdtCodeSearchFilter),c(4),h("ngModel",r.khoaSearchFilter),c(12),m("ngForOf",V(34,15,r.filteredCourses,P(18,Nt,r.p))),c(3),m("ngClass",P(20,Ge,r.isCreateCtdtModalVisible)),c(11),h("ngModel",r.newCtdtName),c(4),h("ngModel",r.newCtdtMaCt),c(4),h("ngModel",r.newCtdtKhoa),c(),m("ngIf",r.createCtdtError),c(),m("ngIf",r.createCtdtMessage),c(6),m("ngClass",P(22,Ge,r.isImportExcelModalVisible)),c(11),h("ngModel",r.ctdtCodeExcel),c(4),h("ngModel",r.khoaExcel),c(5),m("ngIf",r.uploadError),c(),m("ngIf",r.uploadMessage),c(4),m("disabled",!r.selectedFile||!r.ctdtCodeExcel||!r.khoaExcel))},dependencies:[S,K,O,k,T,N,w,z,L,B,I],styles:["h2[_ngcontent-%COMP%]{color:#333;margin-bottom:20px}h3[_ngcontent-%COMP%]{color:#555;margin-top:20px;margin-bottom:10px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700;color:#333}input[type=text][_ngcontent-%COMP%], input[type=file][_ngcontent-%COMP%]{width:100%;padding:8px;border:1px solid #ccc;border-radius:4px;box-sizing:border-box;margin-bottom:10px}button[_ngcontent-%COMP%]{padding:10px 15px;border:none;border-radius:4px;color:#fff;cursor:pointer;font-size:1em}.btn-primary[_ngcontent-%COMP%]{background-color:#007bff}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0056b3}.btn-info[_ngcontent-%COMP%]{background-color:#17a2b8}.btn-info[_ngcontent-%COMP%]:hover{background-color:#117a8b}.alert[_ngcontent-%COMP%]{padding:10px;margin-top:10px;border-radius:4px}.alert-success[_ngcontent-%COMP%]{background-color:#d4edda;color:#155724;border:1px solid #c3e6cb}.alert-danger[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24;border:1px solid #f5c6cb}.alert-warning[_ngcontent-%COMP%]{background-color:#fff3cd;color:#85640a;border:1px solid #ffeeba}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:20px}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:1px solid #ddd;padding:8px;text-align:left}th[_ngcontent-%COMP%]{background-color:#f2f2f2;font-weight:700}"]})};var jt=[{path:"",component:de,children:[{path:"student",component:oe,canActivate:[A]},{path:"teacher",component:H,canActivate:[A]},{path:"course",component:re,canActivate:[A]},{path:"clazz",component:ae,canActivate:[A]},{path:"semester",component:le,canActivate:[A]},{path:"assign-teacher",component:ce,canActivate:[A]},{path:"create-clazz",component:se,canActivate:[A]},{path:"dangkilop",component:Me,canActivate:[A]},{path:"cth",component:ve,canActivate:[A]},{path:"teacher",component:H,canActivate:[A]}]}],Ee=class a{static \u0275fac=function(n){return new(n||a)};static \u0275mod=he({type:a});static \u0275inj=ue({imports:[q.forChild(jt),q]})};var Se=class a{constructor(){}static \u0275fac=function(n){return new(n||a)};static \u0275cmp=v({type:a,selectors:[["app-qldt"]],decls:2,vars:0,template:function(n,r){n&1&&(t(0,"p"),o(1,"qldt works!"),e())},dependencies:[q],encapsulation:2})};var Ue=class a{static \u0275fac=function(n){return new(n||a)};static \u0275mod=he({type:a,bootstrap:[de]});static \u0275inj=ue({providers:[De()],imports:[S,Ee,q,oe,H,re,ae,le,ce,se,be,Se]})};export{Ue as QldtModule};
