import{$ as N,A as c,E,F as A,H as a,I,M as b,N as y,O as _,Y as k,aa as D,ba as H,ea as T,fa as L,ga as R,ha as F,i as m,ja as w,la as j,ma as W,o as l,p as x,pa as B,q as s,r as d,u as P,w as O,wa as g,y as r,ya as q,z as n}from"./chunk-OILZWOMK.js";function J(e,o){if(e&1&&(r(0,"div",15),a(1),n()),e&2){let t=A();l(),I(t.errorMessage)}}var u=class e{constructor(o,t){this.authService=o;this.router=t}username="";password="";errorMessage="";login(){console.log("\u0110ang g\u1EEDi login:",this.username,this.password),this.errorMessage="",this.authService.login(this.username,this.password).subscribe({next:o=>{localStorage.setItem("token",o.token),localStorage.setItem("role",o.role),localStorage.setItem("username",this.username),o.role==="ADMIN"&&this.router.navigate(["/admin"]),o.role==="QLDT"&&this.router.navigate(["/qldt"]),o.role==="TEACHER"&&this.router.navigate(["/teacher"]),o.role==="STUDENT"&&this.router.navigate(["/student"])},error:o=>{console.error("Login failed:",o),this.errorMessage="T\xE0i kho\u1EA3n ho\u1EB7c m\u1EADt kh\u1EA9u sai!"}})}static \u0275fac=function(t){return new(t||e)(x(q),x(F))};static \u0275cmp=s({type:e,selectors:[["app-login"]],decls:22,vars:3,consts:[[1,"login-container"],[1,"login-box"],[1,"login-illustration"],[1,"avatar-circle"],["src","assets/images/avata.png","alt","User Avatar"],[1,"login-form"],[1,"input-group"],["for","username"],["type","text","id","username","name","username",3,"ngModelChange","ngModel"],["for","password"],["type","password","id","password","name","password",3,"ngModelChange","ngModel"],[1,"login-button",3,"click"],[1,"forgot-password"],["href","#"],["class","error-message",4,"ngIf"],[1,"error-message"]],template:function(t,i){t&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),c(4,"img",4),n()(),r(5,"div",5)(6,"h2"),a(7,"User Login"),n(),r(8,"div",6)(9,"label",7),a(10," T\xEAn \u0111\u0103ng nh\u1EADp "),n(),r(11,"input",8),_("ngModelChange",function(p){return y(i.username,p)||(i.username=p),p}),n()(),r(12,"div",6)(13,"label",9),a(14," M\u1EADt kh\u1EA9u "),n(),r(15,"input",10),_("ngModelChange",function(p){return y(i.password,p)||(i.password=p),p}),n()(),r(16,"button",11),E("click",function(){return i.login()}),a(17,"\u0110\u0103ng nh\u1EADp"),n(),r(18,"div",12)(19,"a",13),a(20,"Qu\xEAn t\xEAn \u0111\u0103ng nh\u1EADp / m\u1EADt kh\u1EA9u?"),n()(),P(21,J,2,1,"div",14),n()()()),t&2&&(l(11),b("ngModel",i.username),l(4),b("ngModel",i.password),l(6),O("ngIf",i.errorMessage))},dependencies:[g,j,W,B,N,k],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background:linear-gradient(135deg,#6a1b9a,#e80e8c)}.login-box[_ngcontent-%COMP%]{background-color:#fff;border-radius:10px;box-shadow:0 0 20px #0003;display:flex;overflow:hidden;width:80%;max-width:900px}.login-illustration[_ngcontent-%COMP%]{background-color:#f8f9fa;display:flex;justify-content:center;align-items:center;padding:30px;width:40%}.avatar-circle[_ngcontent-%COMP%]{background-color:#e9ecef;border-radius:50%;width:120px;height:120px;display:flex;justify-content:center;align-items:center;overflow:hidden}.avatar-circle[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:100%;object-fit:cover}.login-form[_ngcontent-%COMP%]{padding:40px;width:60%;display:flex;flex-direction:column}h2[_ngcontent-%COMP%]{text-align:center;color:#343a40;margin-bottom:30px}.input-group[_ngcontent-%COMP%]{margin-bottom:20px}.input-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;color:#495057;margin-bottom:5px}.input-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:5px}.input-group[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .input-group[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{width:calc(100% - 20px);padding:10px;border:1px solid #ced4da;border-radius:5px;box-sizing:border-box;font-size:1em}.login-button[_ngcontent-%COMP%]{background-color:#28a745;color:#fff;padding:12px 20px;border:none;border-radius:5px;cursor:pointer;font-size:1.1em;transition:background-color .3s ease}.login-button[_ngcontent-%COMP%]:hover{background-color:#1e7e34}.forgot-password[_ngcontent-%COMP%]{text-align:center;margin-top:20px}.forgot-password[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#007bff;text-decoration:none}.forgot-password[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.error-message[_ngcontent-%COMP%]{color:#dc3545;margin-top:15px;text-align:center}"]})};var h=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=s({type:e,selectors:[["app-home"]],standalone:!1,decls:2,vars:0,template:function(t,i){t&1&&(r(0,"p"),a(1,"home works!"),n())},encapsulation:2})};var V=[{path:"home",component:h},{path:"admin",loadChildren:()=>import("./chunk-MX2F65YS.js").then(e=>e.AdminModule)},{path:"login",component:u},{path:"",redirectTo:"/login",pathMatch:"full"},{path:"qldt",loadChildren:()=>import("./chunk-IT2ZI6VA.js").then(e=>e.QldtModule)},{path:"teacher",loadChildren:()=>import("./chunk-6Z4ISCEI.js").then(e=>e.TeaModule)},{path:"student",loadChildren:()=>import("./chunk-ZJ7EJR5G.js").then(e=>e.StuModule)}],M=class e{static \u0275fac=function(t){return new(t||e)};static \u0275mod=d({type:e});static \u0275inj=m({imports:[w.forRoot(V),w]})};var C=class e{title="fedatn";static \u0275fac=function(t){return new(t||e)};static \u0275cmp=s({type:e,selectors:[["app-root"]],standalone:!1,decls:1,vars:0,template:function(t,i){t&1&&c(0,"router-outlet")},dependencies:[R],encapsulation:2})};var Q=(e,o)=>{let t=localStorage.getItem("token");return t&&(e=e.clone({setHeaders:{Authorization:`Bearer ${t}`}})),o(e)};var v=class e{static \u0275fac=function(t){return new(t||e)};static \u0275mod=d({type:e,bootstrap:[C]});static \u0275inj=m({providers:[T(L([Q]))],imports:[H,M,g]})};D().bootstrapModule(v,{ngZoneEventCoalescing:!0}).catch(e=>console.error(e));
